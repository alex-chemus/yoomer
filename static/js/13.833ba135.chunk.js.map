{"version":3,"file":"static/js/13.833ba135.chunk.js","mappings":"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","sources":["webpack://yoomer/./src/features/profile/Profile/Profile.module.scss?a8c0","webpack://yoomer/./src/features/profile/ShowProfileSort/ShowProfileSort.module.scss?b369","features/profile/ShowProfileSort/ShowProfileSort.tsx","features/profile/ProfileSort/ProfileSort.tsx","features/profile/ProfileComment/ProfileComment.module.scss","features/profile/ProfileComment/ProfileComment.tsx","features/profile/trimProfileComment.ts","webpack://yoomer/./src/features/profile/ShowProfileFeed/ShowProfileFeed.module.scss?5577","features/profile/ShowProfileFeed/ShowProfileFeed.tsx","features/profile/ProfileFeed/ProfileFeed.tsx","webpack://yoomer/./src/features/profile/ProfileSidebar/ProfileSidebar.module.scss?6899","features/profile/ProfileSidebar/ProfileSidebar.tsx","views/Profile.tsx","features/profile/Profile/Profile.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"profile\":\"Profile_profile__Rt2EM\",\"subgrid\":\"Profile_subgrid__Qvy53\",\"content\":\"Profile_content__-nut7\",\"sortbar\":\"Profile_sortbar__sPo3+\",\"profileSort\":\"Profile_profileSort__CZkWo\",\"profileFeed\":\"Profile_profileFeed__7nry3\",\"fade-in\":\"Profile_fade-in__Jd0Jv\",\"fade-out\":\"Profile_fade-out__LRgGH\",\"scale-up\":\"Profile_scale-up__QwSVA\",\"scale-down\":\"Profile_scale-down__S3Bil\",\"slide-out-up\":\"Profile_slide-out-up__1le9o\",\"slide-out-down\":\"Profile_slide-out-down__Ybbau\",\"slide-out-right\":\"Profile_slide-out-right__oIib8\",\"slide-out-left\":\"Profile_slide-out-left__HCSlt\",\"slide-in-up\":\"Profile_slide-in-up__hHonm\",\"slide-in-down\":\"Profile_slide-in-down__NKeGG\",\"slide-in-right\":\"Profile_slide-in-right__R+Owb\",\"slide-in-left\":\"Profile_slide-in-left__-Vr6P\",\"shake-x\":\"Profile_shake-x__6B-V1\",\"shake-y\":\"Profile_shake-y__r8hBy\",\"spin\":\"Profile_spin__3v9Gu\",\"ping\":\"Profile_ping__uxKfV\",\"blink\":\"Profile_blink__80tgQ\",\"float\":\"Profile_float__g2nfA\",\"bounce\":\"Profile_bounce__fkBqf\",\"pulse\":\"Profile_pulse__yEYJP\"};","// extracted by mini-css-extract-plugin\nexport default {\"profileSort\":\"ShowProfileSort_profileSort__Qh8bo\",\"active\":\"ShowProfileSort_active__jXMBl\",\"panel\":\"ShowProfileSort_panel__AGbLe\",\"btn\":\"ShowProfileSort_btn__zdJ2K\",\"fade-in\":\"ShowProfileSort_fade-in__ta8nn\",\"fade-out\":\"ShowProfileSort_fade-out__6gJDo\",\"scale-up\":\"ShowProfileSort_scale-up__5vnBp\",\"scale-down\":\"ShowProfileSort_scale-down__EnvDA\",\"slide-out-up\":\"ShowProfileSort_slide-out-up__vNXoK\",\"slide-out-down\":\"ShowProfileSort_slide-out-down__3PUcr\",\"slide-out-right\":\"ShowProfileSort_slide-out-right__WfWDg\",\"slide-out-left\":\"ShowProfileSort_slide-out-left__4aI3q\",\"slide-in-up\":\"ShowProfileSort_slide-in-up__r5hAg\",\"slide-in-down\":\"ShowProfileSort_slide-in-down__xhzln\",\"slide-in-right\":\"ShowProfileSort_slide-in-right__Zl4K9\",\"slide-in-left\":\"ShowProfileSort_slide-in-left__EZ9Jm\",\"shake-x\":\"ShowProfileSort_shake-x__AsQJ7\",\"shake-y\":\"ShowProfileSort_shake-y__qzAzn\",\"spin\":\"ShowProfileSort_spin__bCyE6\",\"ping\":\"ShowProfileSort_ping__n9tDk\",\"blink\":\"ShowProfileSort_blink__pkzVC\",\"float\":\"ShowProfileSort_float__stFk4\",\"bounce\":\"ShowProfileSort_bounce__d7I6Q\",\"pulse\":\"ShowProfileSort_pulse__kHKRo\"};","import React, { FC, RefObject, MouseEvent } from 'react'\r\nimport { IProfileSortBar } from '../types'\r\nimport { Properties } from 'csstype'\r\nimport classes from './ShowProfileSort.module.scss'\r\n\r\ninterface ShowProfileSortProps {\r\n  ref: RefObject<HTMLDivElement>,\r\n  dyeSortButton(currentSort: IProfileSortBar): Properties,\r\n  changeSort(sort: IProfileSortBar): void,\r\n  isMe: boolean,\r\n  slide(e: MouseEvent): void,\r\n  headingActive: boolean,\r\n}\r\n\r\nconst ShowProfileSort: FC<ShowProfileSortProps> = ({ \r\n  ref, dyeSortButton, changeSort, isMe, slide, headingActive\r\n}) => {\r\n  return (\r\n    <nav className={classes.profileSort}>\r\n      <h6 onClick={slide} className={headingActive ? classes.active : ''}>\r\n        Show\r\n        <span data-mobile>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n            <line x1=\"12\" y1=\"19\" x2=\"12\" y2=\"5\" stroke='currentColor'></line>\r\n            <polyline points=\"5 12 12 5 19 12\" stroke=\"currentColor\"></polyline>\r\n          </svg>\r\n        </span>\r\n      </h6>\r\n\r\n      <div className={classes.panel} ref={ref}>\r\n      <button \r\n        onClick={() => changeSort('overview')}\r\n        style={dyeSortButton('overview')}\r\n        className={classes.btn}\r\n      > Overview </button>\r\n\r\n      <button \r\n        onClick={() => changeSort('posts')}\r\n        style={dyeSortButton('posts')}\r\n        className={classes.btn}\r\n      > Posts </button>\r\n\r\n      <button \r\n        onClick={() => changeSort('comments')}\r\n        style={dyeSortButton('comments')}\r\n        className={classes.btn}\r\n      > Comments </button>\r\n\r\n      {isMe && (\r\n        <button \r\n          onClick={() => changeSort('saved')}\r\n          style={dyeSortButton('saved')}\r\n          className={classes.btn}\r\n        >Saved</button>\r\n      )}\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default ShowProfileSort","import React, { useEffect, useRef, useState } from 'react'\r\nimport { IProfileSortBar } from '../types'\r\nimport { Properties } from 'csstype'\r\n\r\nimport { useAccessToken, useFetch } from '@shared/hooks'\r\nimport ShowProfileSort from '../ShowProfileSort/ShowProfileSort'\r\n\r\ninterface ProfileSortProps {\r\n  changeSort(sort: IProfileSortBar): void,\r\n  username: string,\r\n  sort: IProfileSortBar\r\n}\r\n\r\nconst ProfileSort: React.FC<ProfileSortProps> = ({ changeSort, username, sort }) => {\r\n  const token = useAccessToken()\r\n  const [isMe, setIsMe] = useState(false)\r\n  const panel = useRef<HTMLDivElement>(null)\r\n  const [headingActive, setHeadingActive] = useState(false)\r\n\r\n  const acceptData = (data: any) => {\r\n    if (data.name === username) {\r\n      setIsMe(true)\r\n    }\r\n  }\r\n\r\n  useEffect(useFetch({\r\n    path: `/api/v1/me`,\r\n    callback: acceptData\r\n  }), [token])\r\n\r\n  const dyeSortButton = (currentSort: IProfileSortBar): Properties => ({\r\n    backgroundColor: currentSort === sort ? 'var(--accent-color)' : 'transparent',\r\n    color: currentSort === sort ? 'var(--gray-0)' : 'var(--primary-color-1)'\r\n  })\r\n\r\n  const slide = () => {\r\n    if (window.matchMedia('(max-width: 576px)').matches && panel.current) {\r\n      //const heading = e.currentTarget as Element\r\n      //heading.classList.toggle(classes.active)\r\n      setHeadingActive(prev => !prev)\r\n      if (panel.current.style.maxHeight) {\r\n        panel.current.style.maxHeight = ''\r\n      } else {\r\n        panel.current.style.maxHeight = panel.current.scrollHeight + 'px' //'200px'\r\n      }\r\n    }\r\n  }\r\n\r\n  const params = { ref: panel, dyeSortButton, changeSort, isMe, slide, headingActive }\r\n  return <ShowProfileSort {...params} />\r\n}\r\n\r\nexport default ProfileSort","// extracted by mini-css-extract-plugin\nexport default {\"profileComment\":\"ProfileComment_profileComment__zJjop\",\"furtherBtn\":\"ProfileComment_furtherBtn__4qR0k\",\"fade-in\":\"ProfileComment_fade-in__gAg-m\",\"fade-out\":\"ProfileComment_fade-out__qYUtw\",\"scale-up\":\"ProfileComment_scale-up__AtFAT\",\"scale-down\":\"ProfileComment_scale-down__GVte0\",\"slide-out-up\":\"ProfileComment_slide-out-up__1cI+V\",\"slide-out-down\":\"ProfileComment_slide-out-down__JJdNF\",\"slide-out-right\":\"ProfileComment_slide-out-right__JsHPf\",\"slide-out-left\":\"ProfileComment_slide-out-left__r0Y5l\",\"slide-in-up\":\"ProfileComment_slide-in-up__BZluS\",\"slide-in-down\":\"ProfileComment_slide-in-down__xCKDX\",\"slide-in-right\":\"ProfileComment_slide-in-right__xk1+1\",\"slide-in-left\":\"ProfileComment_slide-in-left__BsAfR\",\"shake-x\":\"ProfileComment_shake-x__+q-y5\",\"shake-y\":\"ProfileComment_shake-y__nD2WD\",\"spin\":\"ProfileComment_spin__3+ts9\",\"ping\":\"ProfileComment_ping__nnjlB\",\"blink\":\"ProfileComment_blink__7ZotR\",\"float\":\"ProfileComment_float__6++vd\",\"bounce\":\"ProfileComment_bounce__BRs2I\",\"pulse\":\"ProfileComment_pulse__du8b5\"};","import React from 'react'\r\nimport { IProfileComment } from '../types'\r\nimport classes from './ProfileComment.module.scss'\r\nimport { Link } from 'react-router-dom'\r\n\r\ninterface ProfileCommentProps {\r\n  data: IProfileComment\r\n}\r\n\r\nconst ProfileComment: React.FC<ProfileCommentProps> = ({ data }) => {\r\n  return (\r\n    <div className={classes.profileComment}>\r\n      <div className={classes.wrapper}>\r\n        <h6>In r/{data.subreddit}</h6>\r\n        <p>{data.body}</p>\r\n      </div>\r\n\r\n      <Link to={`/post/${data.linkId}`} className={classes.furtherBtn}>\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n          <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\r\n          <polyline points=\"12 5 19 12 12 19\"></polyline>\r\n        </svg>\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileComment","import { IProfileComment } from './types'\r\n\r\nconst trimProfileComment = (data: any): IProfileComment => {\r\n  //console.log('raw profile comment data:', data)\r\n\r\n  return {\r\n    body: data.body,\r\n    subreddit: data.subreddit,\r\n    permalink: data.permalink,\r\n    linkId: data.link_id\r\n  }\r\n}\r\n\r\nexport default trimProfileComment","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"ShowProfileFeed_item__MEBRP\",\"fade-in\":\"ShowProfileFeed_fade-in__++CWV\",\"fade-out\":\"ShowProfileFeed_fade-out__ylIVC\",\"scale-up\":\"ShowProfileFeed_scale-up__+-ojH\",\"scale-down\":\"ShowProfileFeed_scale-down__v7Fxs\",\"slide-out-up\":\"ShowProfileFeed_slide-out-up__DOtUr\",\"slide-out-down\":\"ShowProfileFeed_slide-out-down__7xRBd\",\"slide-out-right\":\"ShowProfileFeed_slide-out-right__UXxfm\",\"slide-out-left\":\"ShowProfileFeed_slide-out-left__iCf7p\",\"slide-in-up\":\"ShowProfileFeed_slide-in-up__1faSX\",\"slide-in-down\":\"ShowProfileFeed_slide-in-down__B3k+t\",\"slide-in-right\":\"ShowProfileFeed_slide-in-right__8yG3G\",\"slide-in-left\":\"ShowProfileFeed_slide-in-left__2uGll\",\"shake-x\":\"ShowProfileFeed_shake-x__iSq5+\",\"shake-y\":\"ShowProfileFeed_shake-y__Xe0Tb\",\"spin\":\"ShowProfileFeed_spin__89hGW\",\"ping\":\"ShowProfileFeed_ping__7SNkh\",\"blink\":\"ShowProfileFeed_blink__IoB35\",\"float\":\"ShowProfileFeed_float__taSOr\",\"bounce\":\"ShowProfileFeed_bounce__arXfW\",\"pulse\":\"ShowProfileFeed_pulse__rlG2S\"};","import React, { FC } from \"react\";\r\nimport { trimPost, Post } from '@features/post'\r\nimport ProfileComment from '../ProfileComment/ProfileComment'\r\nimport trimProfileComment from \"../trimProfileComment\";\r\nimport classes from './ShowProfileFeed.module.scss'\r\nimport { Observer } from '@shared/components'\r\n\r\ninterface ShowProfileFeedProps {\r\n  data: any[],\r\n  token: string | null,\r\n  isAll: boolean,\r\n  loadMore(): void\r\n}\r\n\r\nconst ShowProfileFeed: FC<ShowProfileFeedProps> = ({ data, token, isAll, loadMore }) => {\r\n  return (\r\n    <div>\r\n      {data && data.map((item, i) => {\r\n        switch (item.kind) {\r\n          case 't3': // post\r\n            return <div className={classes.item}>\r\n              <Post key={i} data={trimPost(item.data)} />\r\n            </div>\r\n          \r\n          case 't1': // comment\r\n            return <div className={classes.item}>\r\n              <ProfileComment key={i} data={trimProfileComment(item.data)} />\r\n            </div>\r\n        \r\n          default:\r\n            return null\r\n        }\r\n      })}\r\n      {!isAll && token && data && (\r\n        <Observer onObserve={loadMore} />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ShowProfileFeed","import React, { useEffect, useRef, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { IProfileSortBar } from '../types'\r\nimport IState from '@redux/IState'\r\nimport ShowProfileFeed from '../ShowProfileFeed/ShowProfileFeed'\r\n\r\nimport { useAccessToken } from '@shared/hooks'\r\n\r\ninterface ProfileFeedProps {\r\n  sort: IProfileSortBar,\r\n  username: string\r\n}\r\n\r\nconst ProfileFeed: React.FC<ProfileFeedProps> = ({ sort, username }) => {\r\n  const token = useAccessToken()\r\n  const baseUrl = useSelector((state: IState) => state.baseUrl)\r\n  const afterRef = useRef<string | null>('')\r\n  const [data, setData] = useState<any[]>([])\r\n  const [isAll, setIsAll] = useState(false)\r\n\r\n  const acceptData = (data: any, shouldReset: boolean) => {\r\n    if (data.data.after === null) setIsAll(true)\r\n    afterRef.current = data.data.after\r\n\r\n    if (shouldReset) {\r\n      setData(data.data.children)\r\n    } else {\r\n      setData(prevData => ([\r\n        ...prevData,\r\n        ...data.data.children\r\n      ]))\r\n    }\r\n  }\r\n\r\n  const fetchData = (shouldReset: boolean) => {\r\n    const okToken = token && token !== 'error'\r\n    const notOver = afterRef.current !== null\r\n    if (okToken && (notOver || shouldReset)) {\r\n      if (shouldReset) {\r\n        //isAll.current = false\r\n        setIsAll(false)\r\n        afterRef.current = null\r\n      }\r\n\r\n      let newSort = ''\r\n      switch (sort) {\r\n        case 'overview':\r\n        case 'comments':\r\n        case 'saved':\r\n          newSort = sort\r\n          break;\r\n        \r\n        default: // posts\r\n          newSort = 'submitted'\r\n      }\r\n\r\n      const after = afterRef.current ? `&after=${afterRef.current}` : ''\r\n      fetch(`${baseUrl}/user/${username}/${newSort}.json?raw_json=1${after}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n        .then(res => res.json())\r\n        .then(res => acceptData(res, shouldReset))\r\n        .catch(error => console.log(error))\r\n    }\r\n  }\r\n\r\n  useEffect(() => fetchData(true), [token, sort])\r\n\r\n  const loadMore = () => fetchData(false)\r\n\r\n  const params = { data, token, isAll, loadMore }\r\n  return <ShowProfileFeed {...params} />\r\n}\r\n\r\nexport default ProfileFeed","// extracted by mini-css-extract-plugin\nexport default {\"profileSidebar\":\"ProfileSidebar_profileSidebar__Awvlt\",\"fade-in\":\"ProfileSidebar_fade-in__jV8+c\",\"fade-out\":\"ProfileSidebar_fade-out__Nnhgs\",\"scale-up\":\"ProfileSidebar_scale-up__pIgeS\",\"scale-down\":\"ProfileSidebar_scale-down__d+wOm\",\"slide-out-up\":\"ProfileSidebar_slide-out-up__Wf4lE\",\"slide-out-down\":\"ProfileSidebar_slide-out-down__R5XYx\",\"slide-out-right\":\"ProfileSidebar_slide-out-right__rSno3\",\"slide-out-left\":\"ProfileSidebar_slide-out-left__o45yY\",\"slide-in-up\":\"ProfileSidebar_slide-in-up__uu8UR\",\"slide-in-down\":\"ProfileSidebar_slide-in-down__TFwOp\",\"slide-in-right\":\"ProfileSidebar_slide-in-right__Dls3H\",\"slide-in-left\":\"ProfileSidebar_slide-in-left__ZEtLK\",\"shake-x\":\"ProfileSidebar_shake-x__MYmr9\",\"shake-y\":\"ProfileSidebar_shake-y__SlW8S\",\"spin\":\"ProfileSidebar_spin__iWuP-\",\"ping\":\"ProfileSidebar_ping__uK5P+\",\"blink\":\"ProfileSidebar_blink__dw8bH\",\"float\":\"ProfileSidebar_float__S39nJ\",\"bounce\":\"ProfileSidebar_bounce__nbha-\",\"pulse\":\"ProfileSidebar_pulse__0GLSf\"};","import React, { useEffect, useState } from \"react\"\r\nimport classes from './ProfileSidebar.module.scss'\r\n\r\nimport { useAccessToken, useFetch } from \"@shared/hooks\"\r\n\r\nexport interface ProfileSidebarProps {\r\n  username: string\r\n}\r\n\r\nconst ProfileSidebar: React.FC<ProfileSidebarProps> = ({ username }) => {\r\n  const token = useAccessToken()\r\n\r\n  const [totalKarma, setTotalKarma] = useState<number>()\r\n  const [iconImg, setIconImg] = useState<string>()\r\n  const [cakeDay, setCakeDay] = useState<string>()\r\n\r\n  const acceptData = (data: any) => {\r\n    const date = new Date(data.data.created * 1000)\r\n    setTotalKarma(data.data.total_karma)\r\n    setIconImg(data.data.icon_img)\r\n    setCakeDay(`${date.getDate()}.${date.getMonth()+1}.${date.getFullYear()}`)\r\n  }\r\n\r\n  useEffect(useFetch({\r\n    path: `/user/${username}/about`,\r\n    callback: acceptData\r\n  }), [token])\r\n\r\n  return (\r\n    <aside className={classes.profileSidebar}>\r\n      <h5 className={classes.username}>{username}</h5>\r\n      {iconImg && (\r\n        <img src={iconImg} alt=\"\" />\r\n      )}\r\n      {totalKarma && (\r\n        <div>\r\n          <h6>{totalKarma}</h6>\r\n          <i>Karma</i>\r\n        </div>\r\n      )}\r\n      {cakeDay && (\r\n        <div>\r\n          <h6>{cakeDay}</h6>\r\n          <i>Cake day</i>\r\n        </div>\r\n      )}\r\n    </aside>\r\n  )\r\n}\r\n\r\nexport default ProfileSidebar","import {Profile} from '@features/profile'\r\nexport default Profile","import React, { useState } from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport { IProfileSortBar } from '../types'\r\nimport classes from './Profile.module.scss'\r\n\r\nimport ProfileSort from '../ProfileSort/ProfileSort'\r\nimport ProfileFeed from '../ProfileFeed/ProfileFeed'\r\nimport ProfileSidebar from '../ProfileSidebar/ProfileSidebar'\r\n\r\nimport { Nav } from '@shared/components'\r\n\r\nconst Profile: React.FC = () => {\r\n  const { name } = useParams()\r\n  const navigate = useNavigate()\r\n  if (!name) {\r\n    navigate('/', { replace: true })\r\n    return null\r\n  }\r\n\r\n  const [sort, setSort] = useState<IProfileSortBar>('overview')\r\n\r\n  const changeSort = (str: IProfileSortBar) => {\r\n    setSort(str)\r\n  }\r\n\r\n  return (\r\n    <main className={classes.profile}>\r\n      <Nav />\r\n\r\n      <section data-container className={classes.content}>\r\n        <section>\r\n          <div className={classes.sortbar}>\r\n            <ProfileSort \r\n              changeSort={changeSort}\r\n              username={name}\r\n              sort={sort}\r\n            />\r\n          </div>\r\n          <ProfileFeed sort={sort} username={name} />\r\n        </section>\r\n\r\n        <ProfileSidebar username={name} />\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Profile"],"names":["ref","dyeSortButton","changeSort","isMe","slide","headingActive","className","classes","onClick","xmlns","width","height","viewBox","strokeWidth","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","stroke","points","style","username","sort","token","useAccessToken","useState","setIsMe","panel","useRef","setHeadingActive","useEffect","useFetch","path","callback","data","name","params","currentSort","backgroundColor","color","window","matchMedia","matches","current","prev","maxHeight","scrollHeight","subreddit","body","to","linkId","permalink","link_id","isAll","loadMore","map","item","i","kind","trimPost","trimProfileComment","onObserve","baseUrl","useSelector","state","afterRef","setData","setIsAll","fetchData","shouldReset","okToken","notOver","newSort","after","fetch","method","headers","Authorization","then","res","json","children","prevData","acceptData","catch","error","console","log","totalKarma","setTotalKarma","iconImg","setIconImg","cakeDay","setCakeDay","date","Date","created","total_karma","icon_img","getDate","getMonth","getFullYear","src","alt","useParams","navigate","useNavigate","replace","setSort","str"],"sourceRoot":""}