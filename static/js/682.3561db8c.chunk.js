"use strict";(self.webpackChunkyoomer=self.webpackChunkyoomer||[]).push([[682],{4682:function(e,i,r){r.r(i),r.d(i,{default:function(){return F}});var n=r(885),t=r(2791),o=r(6030),l=r(6871),s="Profile_profile__Rt2EM",a="Profile_content__-nut7",d="Profile_sortbar__sPo3+",_="ProfileSort_profileSort__-SLkO",c="ProfileSort_active__APR9C",u="ProfileSort_panel__U6wc9",f="ProfileSort_btn__9L8UW",m=r(4456),h=r(184),p=function(e){var i=e.changeSort,r=e.username,o=e.sort,l=(0,m.G)(),s=(0,t.useState)(!1),a=(0,n.Z)(s,2),d=a[0],p=a[1],P=(0,t.useRef)(null);(0,t.useEffect)((0,m.i)({path:"/api/v1/me",callback:function(e){e.name===r&&p(!0)}}),[l]);var x=function(e){return{backgroundColor:e===o?"var(--accent-color)":"transparent",color:e===o?"var(--gray-0)":"var(--primary-color-1)"}};return(0,h.jsxs)("nav",{className:_,children:[(0,h.jsxs)("h6",{onClick:function(e){window.matchMedia("(max-width: 576px)").matches&&(e.currentTarget.classList.toggle(c),P.current.style.maxHeight?P.current.style.maxHeight="":P.current.style.maxHeight=P.current.scrollHeight+"px")},children:["Show",(0,h.jsx)("span",{"data-mobile":!0,children:(0,h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,h.jsx)("line",{x1:"12",y1:"19",x2:"12",y2:"5",stroke:"currentColor"}),"'",(0,h.jsx)("polyline",{points:"5 12 12 5 19 12",stroke:"currentColor"})]})})]}),(0,h.jsxs)("div",{className:u,ref:P,children:[(0,h.jsx)("button",{onClick:function(){return i("overview")},style:x("overview"),className:f,children:" Overview "}),(0,h.jsx)("button",{onClick:function(){return i("posts")},style:x("posts"),className:f,children:" Posts "}),(0,h.jsx)("button",{onClick:function(){return i("comments")},style:x("comments"),className:f,children:" Comments "}),d&&(0,h.jsx)("button",{onClick:function(){return i("saved")},style:x("saved"),className:f,children:"Saved"})]})]})},P=r(2982),x={profileComment:"ProfileComment_profileComment__zJjop",furtherBtn:"ProfileComment_furtherBtn__4qR0k","fade-in":"ProfileComment_fade-in__gAg-m","fade-out":"ProfileComment_fade-out__qYUtw","scale-up":"ProfileComment_scale-up__AtFAT","scale-down":"ProfileComment_scale-down__GVte0","slide-out-up":"ProfileComment_slide-out-up__1cI+V","slide-out-down":"ProfileComment_slide-out-down__JJdNF","slide-out-right":"ProfileComment_slide-out-right__JsHPf","slide-out-left":"ProfileComment_slide-out-left__r0Y5l","slide-in-up":"ProfileComment_slide-in-up__BZluS","slide-in-down":"ProfileComment_slide-in-down__xCKDX","slide-in-right":"ProfileComment_slide-in-right__xk1+1","slide-in-left":"ProfileComment_slide-in-left__BsAfR","shake-x":"ProfileComment_shake-x__+q-y5","shake-y":"ProfileComment_shake-y__nD2WD",spin:"ProfileComment_spin__3+ts9",ping:"ProfileComment_ping__nnjlB",blink:"ProfileComment_blink__7ZotR",float:"ProfileComment_float__6++vd",bounce:"ProfileComment_bounce__BRs2I",pulse:"ProfileComment_pulse__du8b5"},b=r(501),j=function(e){var i=e.data;return(0,h.jsxs)("div",{className:x.profileComment,children:[(0,h.jsxs)("div",{className:x.wrapper,children:[(0,h.jsxs)("h6",{children:["In r/",i.subreddit]}),(0,h.jsx)("p",{children:i.body})]}),(0,h.jsx)(b.rU,{to:"/post/".concat(i.linkId),className:x.furtherBtn,children:(0,h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,h.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,h.jsx)("polyline",{points:"12 5 19 12 12 19"})]})})]})},w=function(e){return{body:e.body,subreddit:e.subreddit,permalink:e.permalink,linkId:e.link_id}},k={item:"ProfileFeed_item__3BvB8","fade-in":"ProfileFeed_fade-in__7KWT0","fade-out":"ProfileFeed_fade-out__EB8r3","scale-up":"ProfileFeed_scale-up__zZo7c","scale-down":"ProfileFeed_scale-down__7OSeA","slide-out-up":"ProfileFeed_slide-out-up__hkcqq","slide-out-down":"ProfileFeed_slide-out-down__YKC0R","slide-out-right":"ProfileFeed_slide-out-right__W3Osl","slide-out-left":"ProfileFeed_slide-out-left__bLqyp","slide-in-up":"ProfileFeed_slide-in-up__EiOQ7","slide-in-down":"ProfileFeed_slide-in-down__E70fa","slide-in-right":"ProfileFeed_slide-in-right__8yROw","slide-in-left":"ProfileFeed_slide-in-left__ejA1e","shake-x":"ProfileFeed_shake-x__Fpamo","shake-y":"ProfileFeed_shake-y__zCStu",spin:"ProfileFeed_spin__1jhUD",ping:"ProfileFeed_ping__jOg8N",blink:"ProfileFeed_blink__Vd+7j",float:"ProfileFeed_float__YkTsu",bounce:"ProfileFeed_bounce__OjN7h",pulse:"ProfileFeed_pulse__X3VFM"},v=r(9110),g=r(2711),S=function(e){var i=e.sort,r=e.username,l=(0,m.G)(),s=(0,o.v9)((function(e){return e.baseUrl})),a=(0,t.useRef)(null),d=(0,t.useState)([]),_=(0,n.Z)(d,2),c=_[0],u=_[1],f=(0,t.useRef)(!1),p=function(e){if(l&&"error"!==l&&(!f.current||e)){e&&(f.current=!1,a.current=null);var n="";switch(i){case"overview":case"comments":case"saved":n=i;break;default:n="submitted"}var t=a.current?"&after=".concat(a.current):"";fetch("".concat(s,"/user/").concat(r,"/").concat(n,".json?raw_json=1").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(l)}}).then((function(e){return e.json()})).then((function(i){return function(e,i){null===e.data.after&&(f.current=!0),a.current=e.data.after,u(i?e.data.children:function(i){return[].concat((0,P.Z)(i),(0,P.Z)(e.data.children))})}(i,e)})).catch((function(e){return console.log(e)}))}};return(0,t.useEffect)((function(){return p(!0)}),[l,i]),(0,h.jsxs)("div",{className:k.profileFeed,children:[c&&c.map((function(e,i){switch(e.kind){case"t3":return(0,h.jsx)("div",{className:k.item,children:(0,h.jsx)(g.SO,{data:(0,g.UE)(e.data)},i)});case"t1":return(0,h.jsx)("div",{className:k.item,children:(0,h.jsx)(j,{data:w(e.data)},i)});default:return null}})),!f.current&&l&&c&&(0,h.jsx)(v.Qj,{onObserve:function(){return p(!1)},logMessage:"in profile feed"})]})},C={profileSidebar:"ProfileSidebar_profileSidebar__Awvlt","fade-in":"ProfileSidebar_fade-in__jV8+c","fade-out":"ProfileSidebar_fade-out__Nnhgs","scale-up":"ProfileSidebar_scale-up__pIgeS","scale-down":"ProfileSidebar_scale-down__d+wOm","slide-out-up":"ProfileSidebar_slide-out-up__Wf4lE","slide-out-down":"ProfileSidebar_slide-out-down__R5XYx","slide-out-right":"ProfileSidebar_slide-out-right__rSno3","slide-out-left":"ProfileSidebar_slide-out-left__o45yY","slide-in-up":"ProfileSidebar_slide-in-up__uu8UR","slide-in-down":"ProfileSidebar_slide-in-down__TFwOp","slide-in-right":"ProfileSidebar_slide-in-right__Dls3H","slide-in-left":"ProfileSidebar_slide-in-left__ZEtLK","shake-x":"ProfileSidebar_shake-x__MYmr9","shake-y":"ProfileSidebar_shake-y__SlW8S",spin:"ProfileSidebar_spin__iWuP-",ping:"ProfileSidebar_ping__uK5P+",blink:"ProfileSidebar_blink__dw8bH",float:"ProfileSidebar_float__S39nJ",bounce:"ProfileSidebar_bounce__nbha-",pulse:"ProfileSidebar_pulse__0GLSf"},y=function(e){var i=e.username,r=(0,m.G)(),o=(0,t.useState)(),l=(0,n.Z)(o,2),s=l[0],a=l[1],d=(0,t.useState)(),_=(0,n.Z)(d,2),c=_[0],u=_[1],f=(0,t.useState)(),p=(0,n.Z)(f,2),P=p[0],x=p[1];return(0,t.useEffect)((0,m.i)({path:"/user/".concat(i,"/about"),callback:function(e){var i=new Date(1e3*e.data.created);a(e.data.total_karma),u(e.data.icon_img),x("".concat(i.getDate(),".").concat(i.getMonth()+1,".").concat(i.getFullYear()))}}),[r]),(0,h.jsxs)("aside",{className:C.profileSidebar,children:[(0,h.jsx)("h5",{className:C.username,children:i}),c&&(0,h.jsx)("img",{src:c,alt:""}),s&&(0,h.jsxs)("div",{children:[(0,h.jsx)("h6",{children:s}),(0,h.jsx)("i",{children:"Karma"})]}),P&&(0,h.jsxs)("div",{children:[(0,h.jsx)("h6",{children:P}),(0,h.jsx)("i",{children:"Cake day"})]})]})},F=function(){(0,m.G)(),(0,o.v9)((function(e){return e.baseUrl}));var e=(0,l.UO)().name,i=(0,t.useState)("overview"),r=(0,n.Z)(i,2),_=r[0],c=r[1];return(0,h.jsxs)("main",{className:s,children:[(0,h.jsx)(v.JL,{}),(0,h.jsxs)("section",{"data-container":!0,className:a,children:[(0,h.jsxs)("section",{children:[(0,h.jsx)("div",{className:d,children:(0,h.jsx)(p,{changeSort:function(e){c(e)},username:e,sort:_})}),(0,h.jsx)(S,{sort:_,username:e})]}),(0,h.jsx)(y,{username:e})]})]})}}}]);
//# sourceMappingURL=682.3561db8c.chunk.js.map