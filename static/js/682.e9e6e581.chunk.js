"use strict";(self.webpackChunkyoomer=self.webpackChunkyoomer||[]).push([[682],{4682:function(e,r,t){t.r(r),t.d(r,{default:function(){return P}});var n=t(885),s=t(2791),a=t(6030),i=t(6871),o="Profile_profile__Rt2EM",c="Profile_content__-nut7",l="Profile_sortbar__sPo3+",u="ProfileSort_profileSort__-SLkO",d="ProfileSort_active__APR9C",h="ProfileSort_panel__U6wc9",f="ProfileSort_btn__9L8UW",m=t(4456),x=t(184),v=function(e){var r=e.changeSort,t=e.username,a=e.sort,i=(0,m.G)(),o=(0,s.useState)(!1),c=(0,n.Z)(o,2),l=c[0],v=c[1],j=(0,s.useRef)(null);(0,s.useEffect)((0,m.i)({path:"/api/v1/me",callback:function(e){e.name===t&&v(!0)}}),[i]);var p=function(e){return{backgroundColor:e===a?"var(--accent-color)":"transparent",color:e===a?"var(--gray-0)":"var(--primary-color-1)"}};return(0,x.jsxs)("nav",{className:u,children:[(0,x.jsxs)("h6",{onClick:function(e){window.matchMedia("(max-width: 576px)").matches&&(e.currentTarget.classList.toggle(d),j.current.style.maxHeight?j.current.style.maxHeight="":j.current.style.maxHeight=j.current.scrollHeight+"px")},children:["Show",(0,x.jsx)("span",{"data-mobile":!0,children:(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,x.jsx)("line",{x1:"12",y1:"19",x2:"12",y2:"5",stroke:"currentColor"}),"'",(0,x.jsx)("polyline",{points:"5 12 12 5 19 12",stroke:"currentColor"})]})})]}),(0,x.jsxs)("div",{className:h,ref:j,children:[(0,x.jsx)("button",{onClick:function(){return r("overview")},style:p("overview"),className:f,children:" Overview "}),(0,x.jsx)("button",{onClick:function(){return r("posts")},style:p("posts"),className:f,children:" Posts "}),(0,x.jsx)("button",{onClick:function(){return r("comments")},style:p("comments"),className:f,children:" Comments "}),l&&(0,x.jsx)("button",{onClick:function(){return r("saved")},style:p("saved"),className:f,children:"Saved"})]})]})},j=t(2982),p={profileComment:"ProfileComment_profileComment__zJjop",furtherBtn:"ProfileComment_furtherBtn__4qR0k"},_=t(501),w=function(e){var r=e.data;return(0,x.jsxs)("div",{className:p.profileComment,children:[(0,x.jsxs)("div",{className:p.wrapper,children:[(0,x.jsxs)("h6",{children:["In r/",r.subreddit]}),(0,x.jsx)("p",{children:r.body})]}),(0,x.jsx)(_.rU,{to:"/post/".concat(r.linkId),className:p.furtherBtn,children:(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,x.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,x.jsx)("polyline",{points:"12 5 19 12 12 19"})]})})]})},k=function(e){return{body:e.body,subreddit:e.subreddit,permalink:e.permalink,linkId:e.link_id}},b={item:"ProfileFeed_item__3BvB8"},g=t(1663),y=t(2711),S=function(e){var r=e.sort,t=e.username,i=(0,m.G)(),o=(0,a.v9)((function(e){return e.baseUrl})),c=(0,s.useRef)(null),l=(0,s.useState)([]),u=(0,n.Z)(l,2),d=u[0],h=u[1],f=(0,s.useRef)(!1),v=function(e){if(i&&"error"!==i&&(!f.current||e)){e&&(f.current=!1,c.current=null);var n="";switch(r){case"overview":case"comments":case"saved":n=r;break;default:n="submitted"}var s=c.current?"&after=".concat(c.current):"";fetch("".concat(o,"/user/").concat(t,"/").concat(n,".json?raw_json=1").concat(s),{method:"GET",headers:{Authorization:"Bearer ".concat(i)}}).then((function(e){return e.json()})).then((function(r){return function(e,r){null===e.data.after&&(f.current=!0),c.current=e.data.after,h(r?e.data.children:function(r){return[].concat((0,j.Z)(r),(0,j.Z)(e.data.children))})}(r,e)})).catch((function(e){return console.log(e)}))}};return(0,s.useEffect)((function(){return v(!0)}),[i,r]),(0,x.jsxs)("div",{className:b.profileFeed,children:[d&&d.map((function(e,r){switch(e.kind){case"t3":return(0,x.jsx)("div",{className:b.item,children:(0,x.jsx)(y.SO,{data:(0,y.UE)(e.data)},r)});case"t1":return(0,x.jsx)("div",{className:b.item,children:(0,x.jsx)(w,{data:k(e.data)},r)});default:return null}})),!f.current&&i&&d&&(0,x.jsx)(g.Qj,{onObserve:function(){return v(!1)},logMessage:"in profile feed"})]})},C={profileSidebar:"ProfileSidebar_profileSidebar__Awvlt"},N=function(e){var r=e.username,t=(0,m.G)(),a=(0,s.useState)(),i=(0,n.Z)(a,2),o=i[0],c=i[1],l=(0,s.useState)(),u=(0,n.Z)(l,2),d=u[0],h=u[1],f=(0,s.useState)(),v=(0,n.Z)(f,2),j=v[0],p=v[1];return(0,s.useEffect)((0,m.i)({path:"/user/".concat(r,"/about"),callback:function(e){var r=new Date(1e3*e.data.created);c(e.data.total_karma),h(e.data.icon_img),p("".concat(r.getDate(),".").concat(r.getMonth()+1,".").concat(r.getFullYear()))}}),[t]),(0,x.jsxs)("aside",{className:C.profileSidebar,children:[(0,x.jsx)("h5",{className:C.username,children:r}),d&&(0,x.jsx)("img",{src:d,alt:""}),o&&(0,x.jsxs)("div",{children:[(0,x.jsx)("h6",{children:o}),(0,x.jsx)("i",{children:"Karma"})]}),j&&(0,x.jsxs)("div",{children:[(0,x.jsx)("h6",{children:j}),(0,x.jsx)("i",{children:"Cake day"})]})]})},P=function(){(0,m.G)(),(0,a.v9)((function(e){return e.baseUrl}));var e=(0,i.UO)().name,r=(0,s.useState)("overview"),t=(0,n.Z)(r,2),u=t[0],d=t[1];return(0,x.jsxs)("main",{className:o,children:[(0,x.jsx)(g.JL,{}),(0,x.jsxs)("section",{"data-container":!0,className:c,children:[(0,x.jsxs)("section",{children:[(0,x.jsx)("div",{className:l,children:(0,x.jsx)(v,{changeSort:function(e){d(e)},username:e,sort:u})}),(0,x.jsx)(S,{sort:u,username:e})]}),(0,x.jsx)(N,{username:e})]})]})}}}]);
//# sourceMappingURL=682.e9e6e581.chunk.js.map