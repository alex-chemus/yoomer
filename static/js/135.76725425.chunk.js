"use strict";(self.webpackChunkyoomer=self.webpackChunkyoomer||[]).push([[135],{6135:function(e,r,i){i.r(r),i.d(r,{default:function(){return M}});var t=i(885),s=i(2791),n=i(6871),d=function(e){return{icon_img:e.icon_img,community_img:e.community_img,active_user_count:e.active_user_count,subscribers:e.subscribers,title:e.title,public_description:e.public_description,description_html:e.description_html,user_flair_richtext:e.user_flair_richtext,user_flair_background_color:e.user_flair_background_color,user_flair_text_color:e.user_flair_text_color,banner_background_image:e.banner_background_image,banner_background_color:e.banner_background_color,created:e.created,over18:e.over18,user_is_subscriber:e.user_is_subscriber}},a=i(4456),c="ShowSubreddit_loader__+Z0Bw",u="ShowSubreddit_contentGrid__KwB2M",l="ShowSubreddit_mainContent__pw0gl",o="ShowSubreddit_sortbar__vncHy",_=i(2982),b={postWrapper:"SubredditFeed_postWrapper__ItOAu",loaderWRapper:"SubredditFeed_loaderWRapper__nqiEp","fade-in":"SubredditFeed_fade-in__WzShQ","fade-out":"SubredditFeed_fade-out__COIOj","scale-up":"SubredditFeed_scale-up__ipDYy","scale-down":"SubredditFeed_scale-down__SSFp6","slide-out-up":"SubredditFeed_slide-out-up__Ognuf","slide-out-down":"SubredditFeed_slide-out-down__PlixN","slide-out-right":"SubredditFeed_slide-out-right__QoybU","slide-out-left":"SubredditFeed_slide-out-left__7Hg1g","slide-in-up":"SubredditFeed_slide-in-up__n3fuR","slide-in-down":"SubredditFeed_slide-in-down__hzvzw","slide-in-right":"SubredditFeed_slide-in-right__-47hk","slide-in-left":"SubredditFeed_slide-in-left__OV3UX","shake-x":"SubredditFeed_shake-x__3-cJi","shake-y":"SubredditFeed_shake-y__UB0q5",spin:"SubredditFeed_spin__kjSLl",ping:"SubredditFeed_ping__rMXed",blink:"SubredditFeed_blink__FpDMX",float:"SubredditFeed_float__nICHL",bounce:"SubredditFeed_bounce__kros-",pulse:"SubredditFeed_pulse__8LBYy"},h=i(696),x=i(2675),f=i(184),p=function(e){var r=e.sort,i=(0,s.useContext)(D).subreddit,n=void 0===i?"":i,d=(0,a.G)(),c=(0,s.useState)([]),u=(0,t.Z)(c,2),l=u[0],o=u[1],p=(0,s.useRef)(""),S=(0,a.i)({path:"/r/".concat(n,"/").concat(r),callback:function(e,r){var i=e.data;i.after!==p.current&&(p.current=i.after,o((function(e){var t=i.children.map((function(e){return(0,x.UE)(e.data)}));return r?(0,_.Z)(t):[].concat((0,_.Z)(e),(0,_.Z)(t))})))},afterRef:p});return(0,s.useEffect)((function(){return S(!0)}),[d,r]),l.length?(0,f.jsxs)("section",{children:[l&&l.map((function(e,r){return(0,f.jsx)("div",{className:b.postWrapper,children:(0,f.jsx)(x.SO,{data:e})},r)})),l&&d&&(0,f.jsx)(h.Qj,{onObserve:function(){return S(!1)}})]}):(0,f.jsx)("div",{className:b.loaderWrapper,children:(0,f.jsx)(h.aN,{})})},S="SubredditHeader_banner__ze+Sd",m="SubredditHeader_header__QLivL",j="SubredditHeader_headerInfo__RUFSQ",g="SubredditHeader_subCreds__KoyiN",v="Subscription_subBtn__7pDvx",F=function(e){var r=e.isSubbed,i=e.subreddit,n=(0,s.useState)(r),d=(0,t.Z)(n,2),c=d[0],u=d[1],l=(0,a.i)({path:"/api/subscribe",callback:function(){return u((function(e){return!e}))},body:new URLSearchParams("action=".concat(c?"unsub":"sub","&sr_name=").concat(i))});return(0,f.jsx)("button",{onClick:l,className:v,children:c?"Unsubscribe":"Subscribe"})},k=function(e){var r=e.banner,i=e.icon,t=e.title,n=e.subscribed,d=(0,s.useContext)(D).subreddit;return(0,f.jsxs)("header",{className:m,children:[r&&(0,f.jsx)("img",{src:r,alt:"Banner",className:S}),(0,f.jsxs)("div",{"data-container":!0,className:j,"data-offset":r?"true":"false",children:[(0,f.jsxs)("div",{className:g,children:[i?(0,f.jsx)("img",{src:i,alt:""}):(0,f.jsx)("div",{"data-placeholder":!0}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{title:t,children:t}),(0,f.jsxs)("p",{children:["r/",d]})]})]}),(0,f.jsx)(F,{isSubbed:n,subreddit:d})]})]})},N="SubredditAside_sidebar__s9x8H",w="SubredditAside_aboutSection__m8Fcf",y="SubredditAside_description__kK0uK",C="SubredditAside_flair__8ElVV",R="SubredditAside_rulesWrapper__GFaEc",H="ShowRules_rules__NiEA1",A="ShowRules_listItem__lfiVB",E="ShowRules_accordion__EZKUN",L="ShowRules_panel__YYA3n",U="ShowRules_loaderWrapper__mCxUL",Z=function(e){var r=e.rules,i=e.toggleRule;return r?(0,f.jsx)("ul",{className:H,children:r.map((function(e,r){return(0,f.jsxs)("li",{className:A,children:[(0,f.jsx)("h5",{className:E,onClick:function(e){return i(e)},children:e.short_name}),(0,f.jsx)("div",{dangerouslySetInnerHTML:{__html:e.description_html},className:L})]},r)}))}):(0,f.jsx)("div",{className:U,children:(0,f.jsx)(h.aN,{})})},W=function(e){var r=e.subreddit,i=(0,s.useState)(null),n=(0,t.Z)(i,2),d=n[0],c=n[1];(0,s.useEffect)((0,a.i)({path:"/r/".concat(r,"/about/rules"),callback:function(e){c(e.rules.map((function(e){return{short_name:e.short_name,description_html:e.description_html}})))}}),[]);return(0,f.jsx)(Z,{toggleRule:function(e){var r=e.currentTarget.nextElementSibling;r.style.maxHeight?r.style.maxHeight="":r.style.maxHeight=r.scrollHeight+"px"},rules:d})},O=function(e){var r=e.flair,i=e.description,t=e.subscribers,n=e.activeCount,d=(0,s.useContext)(D),a=d.subreddit,c=d.getDate,u=d.hasFlair;return(0,f.jsxs)("aside",{className:N,children:[(0,f.jsxs)("section",{className:w,children:[(0,f.jsx)("h3",{children:"About"}),(0,f.jsxs)("p",{className:y,children:[" ",i," "]}),(0,f.jsxs)("p",{children:["Subscribers: ",(0,f.jsx)("b",{children:t})]}),(0,f.jsxs)("p",{children:["Active users: ",(0,f.jsx)("b",{children:n})]}),(0,f.jsxs)("p",{children:["Created: ",(0,f.jsx)("b",{children:c()})]})]}),u()&&(0,f.jsx)("hr",{"data-separator":!0}),u()&&(0,f.jsxs)("div",{className:C,children:[(0,f.jsx)("p",{children:"My Flair:\xa0"}),(0,f.jsx)(h.aQ,{bgcolor:r.bgcolor,richtext:r.richtext,color:r.color})]}),(0,f.jsx)("hr",{"data-separator":!0}),(0,f.jsxs)("div",{className:R,children:[(0,f.jsx)("h3",{children:"Rules"}),(0,f.jsx)(W,{subreddit:a})]})]})},B=function(e){var r=e.data,i=(0,s.useState)("best"),n=(0,t.Z)(i,2),d=n[0],a=n[1];return r?(0,f.jsxs)("main",{children:[(0,f.jsx)(h.JL,{}),(0,f.jsx)(k,{banner:r.banner_background_color,icon:r.community_img||r.icon_img,title:r.title,subscribed:r.user_is_subscriber}),(0,f.jsxs)("section",{className:u,"data-container":!0,children:[(0,f.jsxs)("section",{className:l,children:[(0,f.jsx)("div",{className:o,children:(0,f.jsx)(h.Mj,{changeSort:function(e){return a(e)},sort:d})}),(0,f.jsx)(p,{sort:d})]}),(0,f.jsx)(O,{flair:{bgcolor:r.user_flair_background_color,color:r.user_flair_text_color,richtext:r.user_flair_richtext},description:r.public_description,subscribers:r.subscribers,activeCount:r.active_user_count})]})]}):(0,f.jsxs)("div",{children:[(0,f.jsx)(h.JL,{}),(0,f.jsx)("div",{className:c,children:(0,f.jsx)(h.aN,{})})]})},D=(0,s.createContext)(null),M=function(){var e=(0,a.G)(),r=(0,n.UO)().subreddit,i=(0,n.s0)();"undefined"===typeof r&&i("/",{replace:!0});var c=(0,s.useState)(),u=(0,t.Z)(c,2),l=u[0],o=u[1],_=(0,a.i)({path:"/r/".concat(r,"/about"),callback:function(e){o(d(e.data))}});(0,s.useEffect)(_,[e]);return(0,f.jsx)(D.Provider,{value:{subreddit:r,getDate:function(){if(null===l||void 0===l||!l.created)return"";var e=new Date(1e3*l.created);return"".concat(e.getDate(),".").concat(e.getMonth()+1,".").concat(e.getFullYear())},hasFlair:function(){return!(null===l||void 0===l||!l.user_flair_background_color)||!(null===l||void 0===l||!l.user_flair_text_color)||0!==(null===l||void 0===l?void 0:l.user_flair_richtext.length)}},children:(0,f.jsx)(B,{data:l})})}}}]);
//# sourceMappingURL=135.76725425.chunk.js.map