"use strict";(self.webpackChunkyoomer=self.webpackChunkyoomer||[]).push([[972],{2711:function(e,t,r){r.d(t,{SO:function(){return E},Ij:function(){return ne},UE:function(){return A}});var n=r(2791),o="Post_Post__-J+rM",i="Post_topContainer__9xS6s",a="Post_titleContainer__UDdMa",s="Post_bottomContainer__zuA9d",c="Post_furtherBtn__PG7DT",l="Post_postCreds__cyh2T",u="Post_linksContainer__qugU5",d="Post_text__wFZHi",h=r(501),m=r(885),_="PostCreds_container__KtDOu",x="PostCreds_icon__pX2k6",v="PostCreds_info__6WJm7",f=r(1663),j=r(4456),p=r(184),g=function(e){var t=e.author,r=e.subreddit,o=e.bgcolor,i=e.richtext,a=e.color,s=(0,j.G)(),c=(0,n.useState)(),l=(0,m.Z)(c,2),u=l[0],d=l[1];return(0,n.useEffect)((0,j.i)({path:"/r/".concat(r,"/about"),callback:function(e){return d(e.data.community_icon||e.data.icon_img)}}),[r,s]),(0,p.jsxs)("div",{className:_,children:[u?(0,p.jsx)("img",{src:u,alt:"icon",className:x}):(0,p.jsx)("div",{className:x,"data-placeholder":!0}),(0,p.jsxs)("div",{className:v,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h6",{children:(0,p.jsxs)(h.rU,{to:"/r/".concat(r),children:["r/",r]})}),(0,p.jsxs)("p",{children:["by\xa0",(0,p.jsx)(h.rU,{to:"/u/".concat(t),children:t})]})]}),(0,p.jsx)(f.aQ,{bgcolor:o,richtext:i,color:a})]})]})},b=r(8214),k=r(5861),w=r(6030),y="SaveButton_btn__RwlPs",C=function(e){var t=(0,j.G)(),r=(0,n.useState)(e.saved),o=(0,m.Z)(r,2),i=o[0],a=o[1],s=(0,w.v9)((function(e){return e.baseUrl})),c=function(){var r=(0,k.Z)((0,b.Z)().mark((function r(){var n;return(0,b.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=i?"unsave":"save",r.prev=1,r.next=4,fetch("".concat(s,"/api/").concat(n),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:new URLSearchParams("id=".concat(e.name))});case 4:a(!i),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(1),alert("Failed to save/unsave"),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,7]])})));return function(){return r.apply(this,arguments)}}();return(0,p.jsx)("button",{"data-testid":i?"button-clicked":"button",onClick:c,className:y,title:i?"Unsave":"Save",children:i?(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,p.jsx)("polyline",{points:"3 6 5 6 21 6",stroke:"currentColor"}),(0,p.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",stroke:"currentColor"}),(0,p.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,p.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17",stroke:"currentColor"})]}):(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,p.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",stroke:"currentColor"}),(0,p.jsx)("polyline",{points:"17 21 17 13 7 13 7 21",stroke:"currentColor"}),(0,p.jsx)("polyline",{points:"7 3 7 8 15 8",stroke:"currentColor"})]})})},N=r(197),S=(r(2874),function(e){var t=e.images,r=e.isLink,n=e.url,o=e.img,i=e.alt,a=void 0===i?"":i,s=function(e){return window.matchMedia("(min-width: ".concat(e,"px)")).matches},c=0;if(s(320)&&(c=1),s(420)&&(c=2),s(768)&&(c=3),s(992)&&(c=4),s(1200)&&(c=5),o)return(0,p.jsx)("img",{src:o,alt:a});if(1===t.length){var l="";if(t[0].variants.gif)l=t[0].variants.gif.source.url;else l=(t[0].resolutions[c]||t[0].resolutions[t[0].resolutions.length-1]).url;return r?(0,p.jsx)("a",{href:null!==n&&void 0!==n?n:"/",children:(0,p.jsx)("img",{src:l,alt:a})}):(0,p.jsx)("img",{src:l,alt:a})}return(0,p.jsx)(N.lr,{children:t.map((function(e){var t=e.variants.gif?e.variants.gif.resolutions:e.resolutions,r=t[c]||t[t.length-1];return(0,p.jsx)("div",{children:(0,p.jsx)("img",{src:r.url,alt:a})})}))})}),P=function(e){var t=e.video;return t.is_gif?(0,p.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,style:{maxWidth:"100%"},children:(0,p.jsx)("source",{src:t.fallback_url})}):(0,p.jsx)("video",{controls:!0,style:{maxWidth:"100%"},children:(0,p.jsx)("source",{src:t.fallback_url})})},T=function(e){var t=e.video,r=(0,n.useRef)(null);return(0,n.useEffect)((function(){r.current.innerHTML=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}(t.html)}),[t]),(0,p.jsx)("div",{ref:r,style:{display:"flex","align-items":"center","justify-content":"center"}})},Z=function(e){var t=e.images,r=e.url;return(0,p.jsx)("a",{href:r,children:(0,p.jsx)("img",{src:t[0].resolutions[1].url,alt:""})})},z="PostContent_contentContainer__PCcuF",B="PostContent_banner__5kZRz",M=function(e){var t=e.imgs;return(0,p.jsx)(N.lr,{children:t.map((function(e){return(0,p.jsx)("div",{children:(0,p.jsx)("img",{src:e,alt:"Image Loading Error",style:{"max-height":"70vh","object-fit":"contain"}})})}))})},R=function(e){var t=e.postType,r=e.preview,o=e.media,i=e.over18,a=e.url,s=e.spoiler,c=(e.img,e.gallery),l=(0,n.useState)(i&&s),u=(0,m.Z)(l,2),d=u[0],h=u[1];if(i&&!d)return(0,p.jsx)("div",{className:B,onClick:function(){return h(!0)},children:"Over 18"});if(s&&!d)return(0,p.jsx)("div",{className:B,onClick:function(){return h(!0)},children:"Spoiler"});if(c){return(0,p.jsx)(M,{imgs:c.items.map((function(e){return"https://i.redd.it/".concat(e.media_id,".jpg")}))})}switch(t){case"image":return(0,p.jsx)("div",{className:z,children:(0,p.jsx)(S,{images:r.images,alt:"Image Loading Error"})});case"hosted:video":return(0,p.jsx)("div",{className:z,children:(0,p.jsx)(P,{video:o.reddit_video})});case"rich:video":return(0,p.jsx)("div",{className:z,children:(0,p.jsx)(T,{video:o.oembed})});case"link":return(0,p.jsx)("div",{className:z,children:(0,p.jsx)(Z,{images:r.images,url:a})})}return(0,p.jsx)("div",{"data-placeholder":!0,"data-type":t})},U="RedditPost_link__YO9dF",H=function(e){var t=e.permalink;return(0,p.jsx)("a",{href:"https://www.reddit.com".concat(t),className:U,children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{d:"M14.238 15.348c.085.084.085.221 0 .306-.465.462-1.194.687-2.231.687l-.008-.002-.008.002c-1.036 0-1.766-.225-2.231-.688-.085-.084-.085-.221 0-.305.084-.084.222-.084.307 0 .379.377 1.008.561 1.924.561l.008.002.008-.002c.915 0 1.544-.184 1.924-.561.085-.084.223-.084.307 0zm-3.44-2.418c0-.507-.414-.919-.922-.919-.509 0-.923.412-.923.919 0 .506.414.918.923.918.508.001.922-.411.922-.918zm13.202-.93c0 6.627-5.373 12-12 12s-12-5.373-12-12 5.373-12 12-12 12 5.373 12 12zm-5-.129c0-.851-.695-1.543-1.55-1.543-.417 0-.795.167-1.074.435-1.056-.695-2.485-1.137-4.066-1.194l.865-2.724 2.343.549-.003.034c0 .696.569 1.262 1.268 1.262.699 0 1.267-.566 1.267-1.262s-.568-1.262-1.267-1.262c-.537 0-.994.335-1.179.804l-2.525-.592c-.11-.027-.223.037-.257.145l-.965 3.038c-1.656.02-3.155.466-4.258 1.181-.277-.255-.644-.415-1.05-.415-.854.001-1.549.693-1.549 1.544 0 .566.311 1.056.768 1.325-.03.164-.05.331-.05.5 0 2.281 2.805 4.137 6.253 4.137s6.253-1.856 6.253-4.137c0-.16-.017-.317-.044-.472.486-.261.82-.766.82-1.353zm-4.872.141c-.509 0-.922.412-.922.919 0 .506.414.918.922.918s.922-.412.922-.918c0-.507-.413-.919-.922-.919z",stroke:"none",fill:"currentColor"})})})},E=function(e){var t,r,n=e.data;return(0,p.jsxs)("article",{className:o,children:[(0,p.jsxs)("div",{className:i,children:[(0,p.jsx)("div",{className:l,children:(0,p.jsx)(g,{subreddit:n.subreddit,author:n.author,bgcolor:n.author_flair_background_color,color:n.author_flair_text_color,richtext:n.author_flair_richtext})}),(0,p.jsx)(C,{saved:n.saved,name:n.name})]}),n.archived?(0,p.jsx)("p",{"data-title":!0,style:{color:"var(--accent-color)"},children:" Archived "}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:a,children:[(0,p.jsx)("p",{"data-title":!0,title:n.title,children:null===(t=n.url)||void 0===t||!t.length||"link"!==n.post_hint&&n.post_hint?n.title:(0,p.jsx)("a",{href:n.url,children:n.title})}),(0,p.jsx)(f.aQ,{bgcolor:n.link_flair_background_color,color:n.link_flair_text_color,richtext:n.link_flair_richtext})]}),(null===(r=n.selftext_html)||void 0===r?void 0:r.length)&&(0,p.jsx)("div",{className:d,dangerouslySetInnerHTML:{__html:n.selftext_html},onClick:function(e){e.currentTarget.removeAttribute("data-clamp")},"data-clamp":!0}),(0,p.jsx)(R,{postType:n.post_hint,preview:n.preview,media:n.media,over18:n.over_18,url:n.url,spoiler:n.spoiler,gallery:n.gallery_data}),(0,p.jsxs)("div",{className:s,children:[(0,p.jsx)(f.AW,{likes:n.likes,name:n.name}),(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)(H,{permalink:n.permalink}),(0,p.jsx)(h.rU,{to:"/post/".concat(n.name),className:c,children:(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,p.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,p.jsx)("polyline",{points:"12 5 19 12 12 19"})]})})]})]})]})]})},L=r(6871),A=function(e){return{post_hint:e.post_hint,preview:Object.assign({},e.preview),author:e.author,subreddit:e.subreddit,score:e.score,saved:e.saved,thumbnail:e.thumbnail,title:e.title,num_comments:e.num_comments,name:e.name,media:e.media,author_fullname:e.author_fullname,link_flair_background_color:e.link_flair_background_color,link_flair_text_color:e.link_flair_text_color,link_flair_richtext:e.link_flair_richtext,author_flair_background_color:e.author_flair_background_color,author_flair_richtext:e.author_flair_richtext,author_flair_text_color:e.author_flair_text_color,spoiler:e.spoiler,over_18:e.over_18,likes:e.likes,url:e.url,archived:e.archived,permalink:e.permalink,selftext:e.selftext,selftext_html:e.selftext_html,gallery_data:e.gallery_data||null}},F="PostView_post__qJk7m",O="PostView_topContainer__WUBMb",V="PostView_titleContainer__xD24p",G="PostView_textContainer__4TS5m",W="PostView_vote__6sNbz",J=r(2982),Q={sortBar:"CommentsSection_sortBar__z71bg",active:"CommentsSection_active__gT1eP",panel:"CommentsSection_panel__Yqwh5",btn:"CommentsSection_btn__sxWh2",comment:"CommentsSection_comment__xSv4Q",commentField:"CommentsSection_commentField__zZ+f-"},I=function(e){return{author_flair_background_color:e.author_flair_background_color,author_flair_text_color:e.author_flair_text_color,author_flair_richtext:e.author_flair_richtext,body:e.body,name:e.name,parent_id:e.parent_id,replies:e.replies,author:e.author,body_html:e.body_html,likes:e.likes}},D="Comment_comment__fY5kN",q="Comment_title__Roe2Q",Y="Comment_replies__SzNMZ",K="Comment_reply__VJ25N",X="Comment_replyComment__AtM7J",$="CommentField_field__JBc63",ee=function(e){var t=e.id,r=e.onSubmit,o=e.bgcolor,i=void 0===o?1:o,a=(0,j.G)(),s=(0,w.v9)((function(e){return e.baseUrl})),c=(0,n.useRef)(null);return(0,p.jsxs)("div",{className:$,children:[(0,p.jsx)("textarea",{rows:3,placeholder:"write a comment",ref:c,"data-primary":1===i||void 0,"data-secondary":2===i||void 0}),(0,p.jsx)("button",{onClick:function(){a&&"error"!==a&&fetch("".concat(s,"/api/comment"),{method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:new URLSearchParams("thing_id=".concat(t,"&text=").concat(c.current.value))}).then((function(e){return e.json()})).then((function(){c.current.value="",r()})).catch((function(e){return console.log(e)}))},"data-primary":1===i||void 0,"data-secondary":2===i||void 0,children:" Send "})]})},te=function e(t){var r=t.data,o=t.onSubmit,i=t.bgcolor,a=void 0===i?"var(--bg-color-1)":i,s=(0,n.useRef)(I(r.data)),c=(0,n.useState)(!1),l=(0,m.Z)(c,2),u=l[0],d=l[1],h=(0,n.useState)(!1),_=(0,m.Z)(h,2),x=_[0],v=_[1],j=(0,n.useRef)(null);if((0,n.useEffect)((function(){j.current&&(j.current.innerHTML=s.current.body_html)}),[]),"t1"!==r.kind)return null;var g={backgroundColor:a};return(0,p.jsxs)("div",{className:D,style:g,children:[(0,p.jsxs)("div",{className:q,children:[(0,p.jsx)("h6",{children:s.current.author}),(0,p.jsx)(f.aQ,{bgcolor:s.current.author_flair_background_color,color:s.current.author_flair_text_color,richtext:s.current.author_flair_richtext})]}),(0,p.jsx)("div",{ref:j,"data-mb":!0}),(0,p.jsx)("div",{"data-mb":!0,children:(0,p.jsx)(f.AW,{likes:s.current.likes,name:s.current.name,bgcolor:"var(--bg-color-1)"===a?"var(--bg-color-2)":"var(--bg-color-1)"})}),x?(0,p.jsx)(ee,{id:s.current.name,onSubmit:o,bgcolor:"var(--bg-color-1)"===a?2:1}):(0,p.jsx)("button",{onClick:function(){return v(!0)},className:K,"data-btn":"var(--bg-color-1)"===a?2:1,children:"  Reply "}),s.current.replies&&(0,p.jsxs)("button",{onClick:function(){return d(!u)},"data-btn":"var(--bg-color-1)"===a?2:1,children:[" ",u?"Hide":"Show","\xa0Replies "]}),u&&(0,p.jsx)("div",{className:Y,children:s.current.replies.data.children.map((function(t){return(0,p.jsx)("div",{className:X,children:(0,p.jsx)(e,{data:t,onSubmit:o,bgcolor:"var(--bg-color-1)"===a?"var(--bg-color-2)":"var(--bg-color-1)"})})}))})]})},re=function(e){var t=e.link,r=(e.subreddit,(0,j.G)()),o=(0,w.v9)((function(e){return e.baseUrl})),i=(0,n.useState)([]),a=(0,m.Z)(i,2),s=a[0],c=a[1],l=(0,n.useState)(),u=(0,m.Z)(l,2),d=u[0],h=u[1],_=(0,n.useRef)(0),x=(0,n.useRef)(null),v=(0,n.useState)("top"),g=(0,m.Z)(v,2),b=g[0],k=g[1],y=function(e){var t=[];e[1].data.children.forEach((function(e){"more"===e.kind?h(e):t.push(e)})),c((function(e){return[].concat((0,J.Z)(e),t)}))},C=function(){r&&"error"!==r&&(c([]),h(null),fetch("".concat(o,"/comments/").concat(t.slice(3),"?raw_json=1&sort=").concat(b),{method:"GET",headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){return e.json()})).then(y).catch((function(e){return console.log(e)})))};(0,n.useEffect)(C,[r,b]);var N=function(e){return{backgroundColor:e===b?"var(--accent-color)":"transparent",color:e===b?"var(--gray-0)":""}};return s?(0,p.jsxs)("section",{className:Q.comments,children:[(0,p.jsx)("div",{className:Q.commentField,children:(0,p.jsx)(ee,{id:t,onSubmit:C})}),(0,p.jsxs)("div",{className:Q.sortBar,children:[(0,p.jsxs)("h6",{onClick:function(e){return function(e){window.matchMedia("(max-width: 576px)").matches&&(e.currentTarget.classList.toggle(Q.active),x.current.style.maxHeight?x.current.style.maxHeight="":x.current.style.maxHeight=x.current.scrollHeight+"px")}(e)},children:["Sort by",(0,p.jsx)("span",{"data-mobile":!0,children:(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,p.jsx)("line",{x1:"12",y1:"19",x2:"12",y2:"5",stroke:"currentColor"}),"'",(0,p.jsx)("polyline",{points:"5 12 12 5 19 12",stroke:"currentColor"})]})})]}),(0,p.jsxs)("div",{className:Q.panel,ref:x,children:[(0,p.jsx)("button",{onClick:function(){return k("top")},style:N("top"),className:Q.btn,children:"Top"}),(0,p.jsx)("button",{onClick:function(){return k("new")},style:N("new"),className:Q.btn,children:"New"}),(0,p.jsx)("button",{onClick:function(){return k("old")},style:N("old"),className:Q.btn,children:"Old"}),(0,p.jsx)("button",{onClick:function(){return k("controversial")},style:N("controversial"),className:Q.btn,children:"Controversial"})]})]}),s.map((function(e){return(0,p.jsx)("div",{className:Q.comment,children:(0,p.jsx)(te,{data:e,onSubmit:C})})})),d&&r&&(0,p.jsx)(f.Qj,{onObserve:function(){if(r&&"error"!==r&&"number"===typeof _.current){var e="raw_json=1&comment=".concat(d.data.children[_.current],"&sort=").concat(b);_.current=_.current<d.data.children.length-1?_.current+1:null,fetch("".concat(o,"/comments/").concat(d.data.parent_id.slice(3),"?").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){return e.json()})).then(y).catch((function(e){return console.log(e)}))}},logMessage:"in comments section"})]}):(0,p.jsx)(f.aN,{})},ne=function(){var e,t=(0,L.UO)().id,r=(0,j.G)(),o=(0,n.useState)(),i=(0,m.Z)(o,2),a=i[0],s=i[1],c=(0,j.i)({path:"/by_id/".concat(t),callback:function(e){var t=e.data.children[0].data;s(A(t))}});return(0,n.useEffect)(c,[r]),a?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f.JL,{}),(0,p.jsxs)("main",{className:F,children:[(0,p.jsxs)("div",{className:O,children:[(0,p.jsx)(g,{subreddit:a.subreddit,author:a.author,bgcolor:a.author_flair_background_color,color:a.author_flair_text_color,richtext:a.author_flair_richtext}),(0,p.jsx)(C,{saved:a.saved,name:a.name})]}),(0,p.jsxs)("div",{className:V,children:[(0,p.jsx)("p",{children:a.title}),(0,p.jsx)(f.aQ,{bgcolor:a.link_flair_background_color,color:a.link_flair_text_color,richtext:a.link_flair_richtext})]}),(null===(e=a.selftext_html)||void 0===e?void 0:e.length)&&(0,p.jsx)("div",{className:G,dangerouslySetInnerHTML:{__html:a.selftext_html}}),(0,p.jsx)(R,{postType:a.post_hint,preview:a.preview,media:a.media,over18:a.over_18,spoiler:a.spoiler,url:a.url}),(0,p.jsxs)("div",{className:W,children:[(0,p.jsx)(f.AW,{likes:a.likes,name:a.name}),(0,p.jsx)(H,{permalink:a.permalink})]}),(0,p.jsx)(re,{subreddit:a.subreddit,link:a.name})]})]}):(0,p.jsx)("main",{className:F,"data-center":!0,"data-container":!0,children:(0,p.jsx)(f.aN,{})})}}}]);
//# sourceMappingURL=972.fd2e5be2.chunk.js.map