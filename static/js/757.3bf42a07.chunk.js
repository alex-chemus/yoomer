"use strict";(self.webpackChunkyoomer=self.webpackChunkyoomer||[]).push([[757],{8757:function(e,r,n){n.r(r),n.d(r,{default:function(){return A}});var t=n(885),i=n(2791),o=n(6030),s=n(6871),l="Profile_profile__Rt2EM",a="Profile_content__-nut7",d="Profile_sortbar__sPo3+",c=n(8683),u=n(4456),_="ShowProfileSort_profileSort__Qh8bo",f="ShowProfileSort_active__jXMBl",m="ShowProfileSort_panel__AGbLe",h="ShowProfileSort_btn__zdJ2K",p=n(184),x=function(e){var r=e.ref,n=e.dyeSortButton,t=e.changeSort,i=e.isMe,o=e.slide,s=e.headingActive;return(0,p.jsxs)("nav",{className:_,children:[(0,p.jsxs)("h6",{onClick:o,className:s?f:"",children:["Show",(0,p.jsx)("span",{"data-mobile":!0,children:(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,p.jsx)("line",{x1:"12",y1:"19",x2:"12",y2:"5",stroke:"currentColor"}),"'",(0,p.jsx)("polyline",{points:"5 12 12 5 19 12",stroke:"currentColor"})]})})]}),(0,p.jsxs)("div",{className:m,ref:r,children:[(0,p.jsx)("button",{onClick:function(){return t("overview")},style:n("overview"),className:h,children:" Overview "}),(0,p.jsx)("button",{onClick:function(){return t("posts")},style:n("posts"),className:h,children:" Posts "}),(0,p.jsx)("button",{onClick:function(){return t("comments")},style:n("comments"),className:h,children:" Comments "}),i&&(0,p.jsx)("button",{onClick:function(){return t("saved")},style:n("saved"),className:h,children:"Saved"})]})]})},b=function(e){var r=e.changeSort,n=e.username,o=e.sort,s=(0,u.G)(),l=(0,i.useState)(!1),a=(0,t.Z)(l,2),d=a[0],_=a[1],f=(0,i.useRef)(null),m=(0,i.useState)(!1),h=(0,t.Z)(m,2),b=h[0],S=h[1];(0,i.useEffect)((0,u.i)({path:"/api/v1/me",callback:function(e){e.name===n&&_(!0)}}),[s]);var P={ref:f,dyeSortButton:function(e){return{backgroundColor:e===o?"var(--accent-color)":"transparent",color:e===o?"var(--gray-0)":"var(--primary-color-1)"}},changeSort:r,isMe:d,slide:function(e){window.matchMedia("(max-width: 576px)").matches&&(S((function(e){return!e})),f.current.style.maxHeight?f.current.style.maxHeight="":f.current.style.maxHeight=f.current.scrollHeight+"px")},headingActive:b};return(0,p.jsx)(x,(0,c.Z)({},P))},S=n(2982),P=n(2711),v={profileComment:"ProfileComment_profileComment__zJjop",furtherBtn:"ProfileComment_furtherBtn__4qR0k","fade-in":"ProfileComment_fade-in__gAg-m","fade-out":"ProfileComment_fade-out__qYUtw","scale-up":"ProfileComment_scale-up__AtFAT","scale-down":"ProfileComment_scale-down__GVte0","slide-out-up":"ProfileComment_slide-out-up__1cI+V","slide-out-down":"ProfileComment_slide-out-down__JJdNF","slide-out-right":"ProfileComment_slide-out-right__JsHPf","slide-out-left":"ProfileComment_slide-out-left__r0Y5l","slide-in-up":"ProfileComment_slide-in-up__BZluS","slide-in-down":"ProfileComment_slide-in-down__xCKDX","slide-in-right":"ProfileComment_slide-in-right__xk1+1","slide-in-left":"ProfileComment_slide-in-left__BsAfR","shake-x":"ProfileComment_shake-x__+q-y5","shake-y":"ProfileComment_shake-y__nD2WD",spin:"ProfileComment_spin__3+ts9",ping:"ProfileComment_ping__nnjlB",blink:"ProfileComment_blink__7ZotR",float:"ProfileComment_float__6++vd",bounce:"ProfileComment_bounce__BRs2I",pulse:"ProfileComment_pulse__du8b5"},j=n(501),w=function(e){var r=e.data;return(0,p.jsxs)("div",{className:v.profileComment,children:[(0,p.jsxs)("div",{className:v.wrapper,children:[(0,p.jsxs)("h6",{children:["In r/",r.subreddit]}),(0,p.jsx)("p",{children:r.body})]}),(0,p.jsx)(j.rU,{to:"/post/".concat(r.linkId),className:v.furtherBtn,children:(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,p.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,p.jsx)("polyline",{points:"12 5 19 12 12 19"})]})})]})},k=function(e){return{body:e.body,subreddit:e.subreddit,permalink:e.permalink,linkId:e.link_id}},g="ShowProfileFeed_item__MEBRP",C=n(3347),y=function(e){var r=e.data,n=e.token,t=e.isAll,i=e.loadMore;return(0,p.jsxs)("div",{children:[r&&r.map((function(e,r){switch(e.kind){case"t3":return(0,p.jsx)("div",{className:g,children:(0,p.jsx)(P.SO,{data:(0,P.UE)(e.data)},r)});case"t1":return(0,p.jsx)("div",{className:g,children:(0,p.jsx)(w,{data:k(e.data)},r)});default:return null}})),!t&&n&&r&&(0,p.jsx)(C.Qj,{onObserve:i,logMessage:"in profile feed"})]})},N=function(e){var r=e.sort,n=e.username,s=(0,u.G)(),l=(0,o.v9)((function(e){return e.baseUrl})),a=(0,i.useRef)(""),d=(0,i.useState)([]),_=(0,t.Z)(d,2),f=_[0],m=_[1],h=(0,i.useState)(!1),x=(0,t.Z)(h,2),b=x[0],P=x[1],v=function(e){var t=s&&"error"!==s,i=null!==a.current;if(t&&(i||e)){e&&(P(!1),a.current=null);var o="";switch(r){case"overview":case"comments":case"saved":o=r;break;default:o="submitted"}var d=a.current?"&after=".concat(a.current):"";fetch("".concat(l,"/user/").concat(n,"/").concat(o,".json?raw_json=1").concat(d),{method:"GET",headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){return e.json()})).then((function(r){return function(e,r){null===e.data.after&&P(!0),a.current=e.data.after,m(r?e.data.children:function(r){return[].concat((0,S.Z)(r),(0,S.Z)(e.data.children))})}(r,e)})).catch((function(e){return console.log(e)}))}};(0,i.useEffect)((function(){return v(!0)}),[s,r]);var j={data:f,token:s,isAll:b,loadMore:function(){return v(!1)}};return(0,p.jsx)(y,(0,c.Z)({},j))},Z={profileSidebar:"ProfileSidebar_profileSidebar__Awvlt","fade-in":"ProfileSidebar_fade-in__jV8+c","fade-out":"ProfileSidebar_fade-out__Nnhgs","scale-up":"ProfileSidebar_scale-up__pIgeS","scale-down":"ProfileSidebar_scale-down__d+wOm","slide-out-up":"ProfileSidebar_slide-out-up__Wf4lE","slide-out-down":"ProfileSidebar_slide-out-down__R5XYx","slide-out-right":"ProfileSidebar_slide-out-right__rSno3","slide-out-left":"ProfileSidebar_slide-out-left__o45yY","slide-in-up":"ProfileSidebar_slide-in-up__uu8UR","slide-in-down":"ProfileSidebar_slide-in-down__TFwOp","slide-in-right":"ProfileSidebar_slide-in-right__Dls3H","slide-in-left":"ProfileSidebar_slide-in-left__ZEtLK","shake-x":"ProfileSidebar_shake-x__MYmr9","shake-y":"ProfileSidebar_shake-y__SlW8S",spin:"ProfileSidebar_spin__iWuP-",ping:"ProfileSidebar_ping__uK5P+",blink:"ProfileSidebar_blink__dw8bH",float:"ProfileSidebar_float__S39nJ",bounce:"ProfileSidebar_bounce__nbha-",pulse:"ProfileSidebar_pulse__0GLSf"},B=function(e){var r=e.username,n=(0,u.G)(),o=(0,i.useState)(),s=(0,t.Z)(o,2),l=s[0],a=s[1],d=(0,i.useState)(),c=(0,t.Z)(d,2),_=c[0],f=c[1],m=(0,i.useState)(),h=(0,t.Z)(m,2),x=h[0],b=h[1];return(0,i.useEffect)((0,u.i)({path:"/user/".concat(r,"/about"),callback:function(e){var r=new Date(1e3*e.data.created);a(e.data.total_karma),f(e.data.icon_img),b("".concat(r.getDate(),".").concat(r.getMonth()+1,".").concat(r.getFullYear()))}}),[n]),(0,p.jsxs)("aside",{className:Z.profileSidebar,children:[(0,p.jsx)("h5",{className:Z.username,children:r}),_&&(0,p.jsx)("img",{src:_,alt:""}),l&&(0,p.jsxs)("div",{children:[(0,p.jsx)("h6",{children:l}),(0,p.jsx)("i",{children:"Karma"})]}),x&&(0,p.jsxs)("div",{children:[(0,p.jsx)("h6",{children:x}),(0,p.jsx)("i",{children:"Cake day"})]})]})},A=function(){(0,u.G)(),(0,o.v9)((function(e){return e.baseUrl}));var e=(0,s.UO)().name,r=(0,i.useState)("overview"),n=(0,t.Z)(r,2),c=n[0],_=n[1];return(0,p.jsxs)("main",{className:l,children:[(0,p.jsx)(C.JL,{}),(0,p.jsxs)("section",{"data-container":!0,className:a,children:[(0,p.jsxs)("section",{children:[(0,p.jsx)("div",{className:d,children:(0,p.jsx)(b,{changeSort:function(e){_(e)},username:e,sort:c})}),(0,p.jsx)(N,{sort:c,username:e})]}),(0,p.jsx)(B,{username:e})]})]})}}}]);
//# sourceMappingURL=757.3bf42a07.chunk.js.map