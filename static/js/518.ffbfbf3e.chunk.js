"use strict";(self.webpackChunkyoomer=self.webpackChunkyoomer||[]).push([[518],{5726:function(e,t,r){r.d(t,{SO:function(){return H},Ij:function(){return ae},UE:function(){return G}});var n=r(2791),o="Post_Post__-J+rM",i="Post_topContainer__9xS6s",s="Post_bottomContainer__zuA9d",a="Post_furtherBtn__PG7DT",l="Post_postCreds__cyh2T",c="Post_linksContainer__qugU5",u=r(501),d=r(885),h="PostCreds_container__KtDOu",m="PostCreds_icon__pX2k6",_="PostCreds_info__6WJm7",x=r(3347),f=r(4456),v=r(184),j=function(e){var t=e.author,r=e.subreddit,o=e.bgcolor,i=e.richtext,s=e.color,a=(0,f.G)(),l=(0,n.useState)(),c=(0,d.Z)(l,2),j=c[0],p=c[1];return(0,n.useEffect)((0,f.i)({path:"/r/".concat(r,"/about"),callback:function(e){return p(e.data.community_icon||e.data.icon_img)}}),[r,a]),(0,v.jsxs)("div",{className:h,children:[j?(0,v.jsx)("img",{src:j,alt:"icon",className:m}):(0,v.jsx)("div",{className:m,"data-placeholder":!0}),(0,v.jsxs)("div",{className:_,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{children:(0,v.jsxs)(u.rU,{to:"/r/".concat(r),children:["r/",r]})}),(0,v.jsxs)("p",{children:["by\xa0",(0,v.jsx)(u.rU,{to:"/u/".concat(t),children:t})]})]}),(0,v.jsx)(x.aQ,{bgcolor:o,richtext:i,color:s})]})]})},p=r(8214),g=r(5861),w=r(6030),b="SaveButton_btn__RwlPs",k=function(e){var t=(0,f.G)(),r=(0,n.useState)(e.saved),o=(0,d.Z)(r,2),i=o[0],s=o[1],a=(0,w.v9)((function(e){return e.baseUrl})),l=function(){var r=(0,g.Z)((0,p.Z)().mark((function r(){var n;return(0,p.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=i?"unsave":"save",r.prev=1,r.next=4,fetch("".concat(a,"/api/").concat(n),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:new URLSearchParams("id=".concat(e.name))});case 4:s(!i),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(1),alert("Failed to save/unsave"),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,7]])})));return function(){return r.apply(this,arguments)}}();return(0,v.jsx)("button",{"data-testid":i?"button-clicked":"button",onClick:l,className:b,title:i?"Unsave":"Save",children:i?(0,v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,v.jsx)("polyline",{points:"3 6 5 6 21 6",stroke:"currentColor"}),(0,v.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",stroke:"currentColor"}),(0,v.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,v.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17",stroke:"currentColor"})]}):(0,v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,v.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",stroke:"currentColor"}),(0,v.jsx)("polyline",{points:"17 21 17 13 7 13 7 21",stroke:"currentColor"}),(0,v.jsx)("polyline",{points:"7 3 7 8 15 8",stroke:"currentColor"})]})})},C="RedditPost_link__YO9dF",y=function(e){var t=e.permalink;return(0,v.jsx)("a",{href:"https://www.reddit.com".concat(t),className:C,children:(0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{d:"M14.238 15.348c.085.084.085.221 0 .306-.465.462-1.194.687-2.231.687l-.008-.002-.008.002c-1.036 0-1.766-.225-2.231-.688-.085-.084-.085-.221 0-.305.084-.084.222-.084.307 0 .379.377 1.008.561 1.924.561l.008.002.008-.002c.915 0 1.544-.184 1.924-.561.085-.084.223-.084.307 0zm-3.44-2.418c0-.507-.414-.919-.922-.919-.509 0-.923.412-.923.919 0 .506.414.918.923.918.508.001.922-.411.922-.918zm13.202-.93c0 6.627-5.373 12-12 12s-12-5.373-12-12 5.373-12 12-12 12 5.373 12 12zm-5-.129c0-.851-.695-1.543-1.55-1.543-.417 0-.795.167-1.074.435-1.056-.695-2.485-1.137-4.066-1.194l.865-2.724 2.343.549-.003.034c0 .696.569 1.262 1.268 1.262.699 0 1.267-.566 1.267-1.262s-.568-1.262-1.267-1.262c-.537 0-.994.335-1.179.804l-2.525-.592c-.11-.027-.223.037-.257.145l-.965 3.038c-1.656.02-3.155.466-4.258 1.181-.277-.255-.644-.415-1.05-.415-.854.001-1.549.693-1.549 1.544 0 .566.311 1.056.768 1.325-.03.164-.05.331-.05.5 0 2.281 2.805 4.137 6.253 4.137s6.253-1.856 6.253-4.137c0-.16-.017-.317-.044-.472.486-.261.82-.766.82-1.353zm-4.872.141c-.509 0-.922.412-.922.919 0 .506.414.918.922.918s.922-.412.922-.918c0-.507-.413-.919-.922-.919z",stroke:"none",fill:"currentColor"})})})},S="PostBody_titleContainer__eGaPM",N="PostBody_text__baiMm",P=r(197),Z=(r(2874),function(e){var t=e.images,r=e.isLink,n=e.url,o=e.img,i=e.alt,s=void 0===i?"":i,a=function(e){return window.matchMedia("(min-width: ".concat(e,"px)")).matches},l=0;if(a(320)&&(l=1),a(420)&&(l=2),a(768)&&(l=3),a(992)&&(l=4),a(1200)&&(l=5),o)return(0,v.jsx)("img",{src:o,alt:s});if(1===t.length){var c="";if(t[0].variants.gif)c=t[0].variants.gif.source.url;else c=(t[0].resolutions[l]||t[0].resolutions[t[0].resolutions.length-1]).url;return r?(0,v.jsx)("a",{href:null!==n&&void 0!==n?n:"/",children:(0,v.jsx)("img",{src:c,alt:s})}):(0,v.jsx)("img",{src:c,alt:s})}return(0,v.jsx)(P.lr,{children:t.map((function(e){var t=e.variants.gif?e.variants.gif.resolutions:e.resolutions,r=t[l]||t[t.length-1];return(0,v.jsx)("div",{children:(0,v.jsx)("img",{src:r.url,alt:s})})}))})}),M=function(e){var t=e.video;return t.is_gif?(0,v.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,style:{maxWidth:"100%"},children:(0,v.jsx)("source",{src:t.fallback_url})}):(0,v.jsx)("video",{controls:!0,style:{maxWidth:"100%"},children:(0,v.jsx)("source",{src:t.fallback_url})})},B=function(e){var t=e.video,r=(0,n.useRef)(null);return(0,n.useEffect)((function(){r.current.innerHTML=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}(t.html)}),[t]),(0,v.jsx)("div",{ref:r,style:{display:"flex","align-items":"center","justify-content":"center"}})},T=function(e){var t=e.images,r=e.url;return(0,v.jsx)("a",{href:r,children:(0,v.jsx)("img",{src:t[0].resolutions[1].url,alt:""})})},R="PostContent_contentContainer__PCcuF",z="PostContent_banner__5kZRz",E=function(e){var t=e.imgs;return(0,v.jsx)(P.lr,{children:t.map((function(e){return(0,v.jsx)("div",{children:(0,v.jsx)("img",{src:e,alt:"Image Loading Error",style:{"max-height":"70vh","object-fit":"contain"}})})}))})},F=function(e){var t=e.postType,r=e.preview,o=e.media,i=e.over18,s=e.url,a=e.spoiler,l=(e.img,e.gallery),c=(0,n.useState)(i&&a),u=(0,d.Z)(c,2),h=u[0],m=u[1];if(i&&!h)return(0,v.jsx)("div",{className:z,onClick:function(){return m(!0)},children:"Over 18"});if(a&&!h)return(0,v.jsx)("div",{className:z,onClick:function(){return m(!0)},children:"Spoiler"});if(l){return(0,v.jsx)(E,{imgs:l.items.map((function(e){return"https://i.redd.it/".concat(e.media_id,".jpg")}))})}switch(t){case"image":return(0,v.jsx)("div",{className:R,children:(0,v.jsx)(Z,{images:r.images,alt:"Image Loading Error"})});case"hosted:video":return(0,v.jsx)("div",{className:R,children:(0,v.jsx)(M,{video:o.reddit_video})});case"rich:video":return(0,v.jsx)("div",{className:R,children:(0,v.jsx)(B,{video:o.oembed})});case"link":return(0,v.jsx)("div",{className:R,children:(0,v.jsx)(T,{images:r.images,url:s})})}return(0,v.jsx)("div",{"data-placeholder":!0,"data-type":t})},V=function(e){var t,r,o=e.data;return(0,v.jsxs)(n.Fragment,{children:[(0,v.jsxs)("div",{className:S,children:[(0,v.jsx)("p",{"data-title":!0,title:o.title,children:null===(t=o.url)||void 0===t||!t.length||"link"!==o.post_hint&&o.post_hint?o.title:(0,v.jsx)("a",{href:o.url,children:o.title})}),(0,v.jsx)(x.aQ,{bgcolor:o.link_flair_background_color,color:o.link_flair_text_color,richtext:o.link_flair_richtext})]}),(null===(r=o.selftext_html)||void 0===r?void 0:r.length)&&(0,v.jsx)("div",{className:N,dangerouslySetInnerHTML:{__html:o.selftext_html},onClick:function(e){e.currentTarget.removeAttribute("data-clamp")},"data-clamp":!0}),(0,v.jsx)(F,{postType:o.post_hint,preview:o.preview,media:o.media,over18:o.over_18,url:o.url,spoiler:o.spoiler,gallery:o.gallery_data})]})},H=function(e){var t=e.data;return(0,v.jsxs)("article",{className:o,children:[(0,v.jsxs)("div",{className:i,children:[(0,v.jsx)("div",{className:l,children:(0,v.jsx)(j,{subreddit:t.subreddit,author:t.author,bgcolor:t.author_flair_background_color,color:t.author_flair_text_color,richtext:t.author_flair_richtext})}),(0,v.jsx)(k,{saved:t.saved,name:t.name})]}),t.archived?(0,v.jsx)("p",{"data-title":!0,style:{color:"var(--accent-color)"},children:" Archived "}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(V,{data:t}),(0,v.jsxs)("div",{className:s,children:[(0,v.jsx)(x.AW,{likes:t.likes,name:t.name}),(0,v.jsxs)("div",{className:c,children:[(0,v.jsx)(y,{permalink:t.permalink}),(0,v.jsx)(u.rU,{to:"/post/".concat(t.name),className:a,children:(0,v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,v.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,v.jsx)("polyline",{points:"12 5 19 12 12 19"})]})})]})]})]})]})},A=r(6871),G=function(e){return{post_hint:e.post_hint,preview:Object.assign({},e.preview),author:e.author,subreddit:e.subreddit,score:e.score,saved:e.saved,thumbnail:e.thumbnail,title:e.title,num_comments:e.num_comments,name:e.name,media:e.media,author_fullname:e.author_fullname,link_flair_background_color:e.link_flair_background_color,link_flair_text_color:e.link_flair_text_color,link_flair_richtext:e.link_flair_richtext,author_flair_background_color:e.author_flair_background_color,author_flair_richtext:e.author_flair_richtext,author_flair_text_color:e.author_flair_text_color,spoiler:e.spoiler,over_18:e.over_18,likes:e.likes,url:e.url,archived:e.archived,permalink:e.permalink,selftext:e.selftext,selftext_html:e.selftext_html,gallery_data:e.gallery_data||null}},U="ShowPostView_post__Vrfva",L="ShowPostView_topContainer__F9T-B",O="ShowPostView_titleContainer__I+Qyl",Q="ShowPostView_textContainer__+fMwt",J="ShowPostView_vote__z0+nf",W=r(8683),D=r(2982),I={sortBar:"ShowComments_sortBar__Rfwgm",active:"ShowComments_active__vEQhP",panel:"ShowComments_panel__pfV1X",btn:"ShowComments_btn__ugXwF",comment:"ShowComments_comment__RnJs5",commentField:"ShowComments_commentField__Q8RQq","fade-in":"ShowComments_fade-in__tCSEZ","fade-out":"ShowComments_fade-out__ZD3vy","scale-up":"ShowComments_scale-up__EDDil","scale-down":"ShowComments_scale-down__CSuVF","slide-out-up":"ShowComments_slide-out-up__GZc9W","slide-out-down":"ShowComments_slide-out-down__i9Slv","slide-out-right":"ShowComments_slide-out-right__mAO3t","slide-out-left":"ShowComments_slide-out-left__qVsPw","slide-in-up":"ShowComments_slide-in-up__JSXJ1","slide-in-down":"ShowComments_slide-in-down__peVHm","slide-in-right":"ShowComments_slide-in-right__6v+cM","slide-in-left":"ShowComments_slide-in-left__KGIFq","shake-x":"ShowComments_shake-x__PfCt-","shake-y":"ShowComments_shake-y__lWnfm",spin:"ShowComments_spin__91nyZ",ping:"ShowComments_ping__J5fD2",blink:"ShowComments_blink__IqKzi",float:"ShowComments_float__l3miX",bounce:"ShowComments_bounce__T1e9W",pulse:"ShowComments_pulse__8GPQp"},q="CommentField_field__JBc63",X=function(e){var t=e.id,r=e.onSubmit,o=e.bgcolor,i=void 0===o?1:o,s=(0,f.G)(),a=(0,w.v9)((function(e){return e.baseUrl})),l=(0,n.useRef)(null);return(0,v.jsxs)("div",{className:q,children:[(0,v.jsx)("textarea",{rows:3,placeholder:"write a comment",ref:l,"data-primary":1===i||void 0,"data-secondary":2===i||void 0}),(0,v.jsx)("button",{onClick:function(){s&&"error"!==s&&fetch("".concat(a,"/api/comment"),{method:"POST",headers:{Authorization:"Bearer ".concat(s)},body:new URLSearchParams("thing_id=".concat(t,"&text=").concat(l.current.value))}).then((function(e){return e.json()})).then((function(){l.current.value="",r()})).catch((function(e){return console.log(e)}))},"data-primary":1===i||void 0,"data-secondary":2===i||void 0,children:" Send "})]})},K=function(e){return{author_flair_background_color:e.author_flair_background_color,author_flair_text_color:e.author_flair_text_color,author_flair_richtext:e.author_flair_richtext,body:e.body,name:e.name,parent_id:e.parent_id,replies:e.replies,author:e.author,body_html:e.body_html,likes:e.likes}},Y="Comment_comment__fY5kN",$="Comment_title__Roe2Q",ee="Comment_replies__SzNMZ",te="Comment_reply__VJ25N",re="Comment_replyComment__AtM7J",ne=function e(t){var r=t.data,o=t.onSubmit,i=t.bgcolor,s=void 0===i?"var(--bg-color-1)":i,a=(0,n.useState)(K(r.data)),l=(0,d.Z)(a,2),c=l[0],u=(l[1],(0,n.useState)(!1)),h=(0,d.Z)(u,2),m=h[0],_=h[1],f=(0,n.useState)(!1),j=(0,d.Z)(f,2),p=j[0],g=j[1],w=(0,n.useRef)(null);if((0,n.useEffect)((function(){w.current&&(w.current.innerHTML=c.body_html)}),[]),"t1"!==r.kind)return null;var b={backgroundColor:s};return(0,v.jsxs)("div",{className:Y,style:b,children:[(0,v.jsxs)("div",{className:$,children:[(0,v.jsx)("h6",{children:c.author}),(0,v.jsx)(x.aQ,{bgcolor:c.author_flair_background_color,color:c.author_flair_text_color,richtext:c.author_flair_richtext})]}),(0,v.jsx)("div",{ref:w,"data-mb":!0}),(0,v.jsx)("div",{"data-mb":!0,children:(0,v.jsx)(x.AW,{likes:c.likes,name:c.name,bgcolor:"var(--bg-color-1)"===s?"var(--bg-color-2)":"var(--bg-color-1)"})}),p?(0,v.jsx)(X,{id:c.name,onSubmit:o,bgcolor:"var(--bg-color-1)"===s?2:1}):(0,v.jsx)("button",{onClick:function(){return g(!0)},className:te,"data-btn":"var(--bg-color-1)"===s?2:1,children:"  Reply "}),c.replies&&(0,v.jsxs)("button",{onClick:function(){return _(!m)},"data-btn":"var(--bg-color-1)"===s?2:1,children:[" ",m?"Hide":"Show","\xa0Replies "]}),m&&(0,v.jsx)("div",{className:ee,children:c.replies.data.children.map((function(t){return(0,v.jsx)("div",{className:re,children:(0,v.jsx)(e,{data:t,onSubmit:o,bgcolor:"var(--bg-color-1)"===s?"var(--bg-color-2)":"var(--bg-color-1)"})})}))})]})},oe=function(e){var t=e.sort,r=e.comments,o=e.more,i=e.fetchComments,s=e.fetchMore,a=e.setSort,l=e.link,c=e.token,u=(0,n.useState)(!1),h=(0,d.Z)(u,2),m=h[0],_=h[1],f=(0,n.useRef)(null),j=function(e){return{backgroundColor:e===t?"var(--accent-color)":"transparent",color:e===t?"var(--gray-0)":""}};return r?(0,v.jsxs)("section",{className:I.comments,children:[(0,v.jsx)("div",{className:I.commentField,children:(0,v.jsx)(X,{id:l,onSubmit:i})}),(0,v.jsxs)("div",{className:I.sortBar,children:[(0,v.jsxs)("h6",{onClick:function(e){window.matchMedia("(max-width: 576px)").matches&&(_((function(e){return!e})),f.current.style.maxHeight?f.current.style.maxHeight="":f.current.style.maxHeight=f.current.scrollHeight+"px")},className:m?I.active:"",children:["Sort by",(0,v.jsx)("span",{"data-mobile":!0,children:(0,v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,v.jsx)("line",{x1:"12",y1:"19",x2:"12",y2:"5",stroke:"currentColor"}),"'",(0,v.jsx)("polyline",{points:"5 12 12 5 19 12",stroke:"currentColor"})]})})]}),(0,v.jsxs)("div",{className:I.panel,ref:f,children:[(0,v.jsx)("button",{onClick:function(){return a("top")},style:j("top"),className:I.btn,children:"Top"}),(0,v.jsx)("button",{onClick:function(){return a("new")},style:j("new"),className:I.btn,children:"New"}),(0,v.jsx)("button",{onClick:function(){return a("old")},style:j("old"),className:I.btn,children:"Old"}),(0,v.jsx)("button",{onClick:function(){return a("controversial")},style:j("controversial"),className:I.btn,children:"Controversial"})]})]}),r.map((function(e){return(0,v.jsx)("div",{className:I.comment,children:(0,v.jsx)(ne,{data:e,onSubmit:i})})})),o&&c&&(0,v.jsx)(x.Qj,{onObserve:s,logMessage:"in comments section"})]}):(0,v.jsx)(x.aN,{})},ie=function(e){var t=e.link,r=(e.subreddit,(0,f.G)()),o=(0,w.v9)((function(e){return e.baseUrl})),i=(0,n.useState)([]),s=(0,d.Z)(i,2),a=s[0],l=s[1],c=(0,n.useState)(),u=(0,d.Z)(c,2),h=u[0],m=u[1],_=(0,n.useRef)(0),x=(0,n.useState)("top"),j=(0,d.Z)(x,2),p=j[0],g=j[1],b=function(e){var t=[];e[1].data.children.forEach((function(e){"more"===e.kind?m(e):t.push(e)})),l((function(e){return[].concat((0,D.Z)(e),t)}))},k=function(){r&&"error"!==r&&(l([]),m(null),fetch("".concat(o,"/comments/").concat(t.slice(3),"?raw_json=1&sort=").concat(p),{method:"GET",headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){return e.json()})).then(b).catch((function(e){return console.log(e)})))};(0,n.useEffect)(k,[r,p]);var C={sort:p,comments:a,more:h,fetchComments:k,fetchMore:function(){if(r&&"error"!==r&&"number"===typeof _.current){var e="raw_json=1&comment=".concat(h.data.children[_.current],"&sort=").concat(p);_.current=_.current<h.data.children.length-1?_.current+1:null,fetch("".concat(o,"/comments/").concat(h.data.parent_id.slice(3),"?").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){return e.json()})).then(b).catch((function(e){return console.log(e)}))}},setSort:g,link:t,token:r};return(0,v.jsx)(oe,(0,W.Z)({},C))},se=function(e){var t,r=e.postData;return r?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x.JL,{}),(0,v.jsxs)("main",{className:U,children:[(0,v.jsxs)("div",{className:L,children:[(0,v.jsx)(j,{subreddit:r.subreddit,author:r.author,bgcolor:r.author_flair_background_color,color:r.author_flair_text_color,richtext:r.author_flair_richtext}),(0,v.jsx)(k,{saved:r.saved,name:r.name})]}),(0,v.jsxs)("div",{className:O,children:[(0,v.jsx)("p",{children:r.title}),(0,v.jsx)(x.aQ,{bgcolor:r.link_flair_background_color,color:r.link_flair_text_color,richtext:r.link_flair_richtext})]}),(null===(t=r.selftext_html)||void 0===t?void 0:t.length)&&(0,v.jsx)("div",{className:Q,dangerouslySetInnerHTML:{__html:r.selftext_html}}),(0,v.jsx)(F,{postType:r.post_hint,preview:r.preview,media:r.media,spoiler:r.spoiler,over18:r.over_18,url:r.url}),(0,v.jsxs)("div",{className:J,children:[(0,v.jsx)(x.AW,{likes:r.likes,name:r.name}),(0,v.jsx)(y,{permalink:r.permalink})]}),(0,v.jsx)(ie,{subreddit:r.subreddit,link:r.name})]})]}):(0,v.jsx)("main",{className:U,"data-center":!0,"data-container":!0,children:(0,v.jsx)(x.aN,{})})},ae=function(){var e=(0,A.UO)().id,t=(0,f.G)(),r=(0,n.useState)(),o=(0,d.Z)(r,2),i=o[0],s=o[1],a=(0,f.i)({path:"/by_id/".concat(e),callback:function(e){var t=e.data.children[0].data;s(G(t))}});return(0,n.useEffect)(a,[t]),(0,v.jsx)(se,{postData:i})}}}]);
//# sourceMappingURL=518.ffbfbf3e.chunk.js.map